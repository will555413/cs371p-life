        -:    0:Source:/usr/include/gtest/gtest.h
        -:    0:Graph:TestLife.gcno
        -:    0:Data:TestLife.gcda
        -:    0:Runs:1
        -:    0:Programs:1
        -:    1:// Copyright 2005, Google Inc.
        -:    2:// All rights reserved.
        -:    3://
        -:    4:// Redistribution and use in source and binary forms, with or without
        -:    5:// modification, are permitted provided that the following conditions are
        -:    6:// met:
        -:    7://
        -:    8://     * Redistributions of source code must retain the above copyright
        -:    9:// notice, this list of conditions and the following disclaimer.
        -:   10://     * Redistributions in binary form must reproduce the above
        -:   11:// copyright notice, this list of conditions and the following disclaimer
        -:   12:// in the documentation and/or other materials provided with the
        -:   13:// distribution.
        -:   14://     * Neither the name of Google Inc. nor the names of its
        -:   15:// contributors may be used to endorse or promote products derived from
        -:   16:// this software without specific prior written permission.
        -:   17://
        -:   18:// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
        -:   19:// "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
        -:   20:// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
        -:   21:// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
        -:   22:// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
        -:   23:// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
        -:   24:// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
        -:   25:// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
        -:   26:// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
        -:   27:// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
        -:   28:// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
        -:   29://
        -:   30:// Author: wan@google.com (Zhanyong Wan)
        -:   31://
        -:   32:// The Google C++ Testing Framework (Google Test)
        -:   33://
        -:   34:// This header file defines the public API for Google Test.  It should be
        -:   35:// included by any test program that uses Google Test.
        -:   36://
        -:   37:// IMPORTANT NOTE: Due to limitation of the C++ language, we have to
        -:   38:// leave some internal implementation details in this header file.
        -:   39:// They are clearly marked by comments like this:
        -:   40://
        -:   41://   // INTERNAL IMPLEMENTATION - DO NOT USE IN A USER PROGRAM.
        -:   42://
        -:   43:// Such code is NOT meant to be used by a user directly, and is subject
        -:   44:// to CHANGE WITHOUT NOTICE.  Therefore DO NOT DEPEND ON IT in a user
        -:   45:// program!
        -:   46://
        -:   47:// Acknowledgment: Google Test borrowed the idea of automatic test
        -:   48:// registration from Barthelemy Dagenais' (barthelemy@prologique.com)
        -:   49:// easyUnit framework.
        -:   50:
        -:   51:#ifndef GTEST_INCLUDE_GTEST_GTEST_H_
        -:   52:#define GTEST_INCLUDE_GTEST_GTEST_H_
        -:   53:
        -:   54:#include <limits>
        -:   55:#include <vector>
        -:   56:
        -:   57:#include "gtest/internal/gtest-internal.h"
        -:   58:#include "gtest/internal/gtest-string.h"
        -:   59:#include "gtest/gtest-death-test.h"
        -:   60:#include "gtest/gtest-message.h"
        -:   61:#include "gtest/gtest-param-test.h"
        -:   62:#include "gtest/gtest-printers.h"
        -:   63:#include "gtest/gtest_prod.h"
        -:   64:#include "gtest/gtest-test-part.h"
        -:   65:#include "gtest/gtest-typed-test.h"
        -:   66:
        -:   67:// Depending on the platform, different string classes are available.
        -:   68:// On Linux, in addition to ::std::string, Google also makes use of
        -:   69:// class ::string, which has the same interface as ::std::string, but
        -:   70:// has a different implementation.
        -:   71://
        -:   72:// The user can define GTEST_HAS_GLOBAL_STRING to 1 to indicate that
        -:   73:// ::string is available AND is a distinct type to ::std::string, or
        -:   74:// define it to 0 to indicate otherwise.
        -:   75://
        -:   76:// If the user's ::std::string and ::string are the same class due to
        -:   77:// aliasing, he should define GTEST_HAS_GLOBAL_STRING to 0.
        -:   78://
        -:   79:// If the user doesn't define GTEST_HAS_GLOBAL_STRING, it is defined
        -:   80:// heuristically.
        -:   81:
        -:   82:namespace testing {
        -:   83:
        -:   84:// Declares the flags.
        -:   85:
        -:   86:// This flag temporary enables the disabled tests.
        -:   87:GTEST_DECLARE_bool_(also_run_disabled_tests);
        -:   88:
        -:   89:// This flag brings the debugger on an assertion failure.
        -:   90:GTEST_DECLARE_bool_(break_on_failure);
        -:   91:
        -:   92:// This flag controls whether Google Test catches all test-thrown exceptions
        -:   93:// and logs them as failures.
        -:   94:GTEST_DECLARE_bool_(catch_exceptions);
        -:   95:
        -:   96:// This flag enables using colors in terminal output. Available values are
        -:   97:// "yes" to enable colors, "no" (disable colors), or "auto" (the default)
        -:   98:// to let Google Test decide.
        -:   99:GTEST_DECLARE_string_(color);
        -:  100:
        -:  101:// This flag sets up the filter to select by name using a glob pattern
        -:  102:// the tests to run. If the filter is not given all tests are executed.
        -:  103:GTEST_DECLARE_string_(filter);
        -:  104:
        -:  105:// This flag causes the Google Test to list tests. None of the tests listed
        -:  106:// are actually run if the flag is provided.
        -:  107:GTEST_DECLARE_bool_(list_tests);
        -:  108:
        -:  109:// This flag controls whether Google Test emits a detailed XML report to a file
        -:  110:// in addition to its normal textual output.
        -:  111:GTEST_DECLARE_string_(output);
        -:  112:
        -:  113:// This flags control whether Google Test prints the elapsed time for each
        -:  114:// test.
        -:  115:GTEST_DECLARE_bool_(print_time);
        -:  116:
        -:  117:// This flag specifies the random number seed.
        -:  118:GTEST_DECLARE_int32_(random_seed);
        -:  119:
        -:  120:// This flag sets how many times the tests are repeated. The default value
        -:  121:// is 1. If the value is -1 the tests are repeating forever.
        -:  122:GTEST_DECLARE_int32_(repeat);
        -:  123:
        -:  124:// This flag controls whether Google Test includes Google Test internal
        -:  125:// stack frames in failure stack traces.
        -:  126:GTEST_DECLARE_bool_(show_internal_stack_frames);
        -:  127:
        -:  128:// When this flag is specified, tests' order is randomized on every iteration.
        -:  129:GTEST_DECLARE_bool_(shuffle);
        -:  130:
        -:  131:// This flag specifies the maximum number of stack frames to be
        -:  132:// printed in a failure message.
        -:  133:GTEST_DECLARE_int32_(stack_trace_depth);
        -:  134:
        -:  135:// When this flag is specified, a failed assertion will throw an
        -:  136:// exception if exceptions are enabled, or exit the program with a
        -:  137:// non-zero code otherwise.
        -:  138:GTEST_DECLARE_bool_(throw_on_failure);
        -:  139:
        -:  140:// When this flag is set with a "host:port" string, on supported
        -:  141:// platforms test results are streamed to the specified port on
        -:  142:// the specified host machine.
        -:  143:GTEST_DECLARE_string_(stream_result_to);
        -:  144:
        -:  145:// The upper limit for valid stack trace depths.
        -:  146:const int kMaxStackTraceDepth = 100;
        -:  147:
        -:  148:namespace internal {
        -:  149:
        -:  150:class AssertHelper;
        -:  151:class DefaultGlobalTestPartResultReporter;
        -:  152:class ExecDeathTest;
        -:  153:class NoExecDeathTest;
        -:  154:class FinalSuccessChecker;
        -:  155:class GTestFlagSaver;
        -:  156:class TestResultAccessor;
        -:  157:class TestEventListenersAccessor;
        -:  158:class TestEventRepeater;
        -:  159:class WindowsDeathTest;
        -:  160:class UnitTestImpl* GetUnitTestImpl();
        -:  161:void ReportFailureInUnknownLocation(TestPartResult::Type result_type,
        -:  162:                                    const String& message);
        -:  163:
        -:  164:// Converts a streamable value to a String.  A NULL pointer is
        -:  165:// converted to "(null)".  When the input value is a ::string,
        -:  166:// ::std::string, ::wstring, or ::std::wstring object, each NUL
        -:  167:// character in it is replaced with "\\0".
        -:  168:// Declared in gtest-internal.h but defined here, so that it has access
        -:  169:// to the definition of the Message class, required by the ARM
        -:  170:// compiler.
        -:  171:template <typename T>
        -:  172:String StreamableToString(const T& streamable) {
        -:  173:  return (Message() << streamable).GetString();
        -:  174:}
        -:  175:
        -:  176:}  // namespace internal
        -:  177:
        -:  178:// The friend relationship of some of these classes is cyclic.
        -:  179:// If we don't forward declare them the compiler might confuse the classes
        -:  180:// in friendship clauses with same named classes on the scope.
        -:  181:class Test;
        -:  182:class TestCase;
        -:  183:class TestInfo;
        -:  184:class UnitTest;
        -:  185:
        -:  186:// A class for indicating whether an assertion was successful.  When
        -:  187:// the assertion wasn't successful, the AssertionResult object
        -:  188:// remembers a non-empty message that describes how it failed.
        -:  189://
        -:  190:// To create an instance of this class, use one of the factory functions
        -:  191:// (AssertionSuccess() and AssertionFailure()).
        -:  192://
        -:  193:// This class is useful for two purposes:
        -:  194://   1. Defining predicate functions to be used with Boolean test assertions
        -:  195://      EXPECT_TRUE/EXPECT_FALSE and their ASSERT_ counterparts
        -:  196://   2. Defining predicate-format functions to be
        -:  197://      used with predicate assertions (ASSERT_PRED_FORMAT*, etc).
        -:  198://
        -:  199:// For example, if you define IsEven predicate:
        -:  200://
        -:  201://   testing::AssertionResult IsEven(int n) {
        -:  202://     if ((n % 2) == 0)
        -:  203://       return testing::AssertionSuccess();
        -:  204://     else
        -:  205://       return testing::AssertionFailure() << n << " is odd";
        -:  206://   }
        -:  207://
        -:  208:// Then the failed expectation EXPECT_TRUE(IsEven(Fib(5)))
        -:  209:// will print the message
        -:  210://
        -:  211://   Value of: IsEven(Fib(5))
        -:  212://     Actual: false (5 is odd)
        -:  213://   Expected: true
        -:  214://
        -:  215:// instead of a more opaque
        -:  216://
        -:  217://   Value of: IsEven(Fib(5))
        -:  218://     Actual: false
        -:  219://   Expected: true
        -:  220://
        -:  221:// in case IsEven is a simple Boolean predicate.
        -:  222://
        -:  223:// If you expect your predicate to be reused and want to support informative
        -:  224:// messages in EXPECT_FALSE and ASSERT_FALSE (negative assertions show up
        -:  225:// about half as often as positive ones in our tests), supply messages for
        -:  226:// both success and failure cases:
        -:  227://
        -:  228://   testing::AssertionResult IsEven(int n) {
        -:  229://     if ((n % 2) == 0)
        -:  230://       return testing::AssertionSuccess() << n << " is even";
        -:  231://     else
        -:  232://       return testing::AssertionFailure() << n << " is odd";
        -:  233://   }
        -:  234://
        -:  235:// Then a statement EXPECT_FALSE(IsEven(Fib(6))) will print
        -:  236://
        -:  237://   Value of: IsEven(Fib(6))
        -:  238://     Actual: true (8 is even)
        -:  239://   Expected: false
        -:  240://
        -:  241:// NB: Predicates that support negative Boolean assertions have reduced
        -:  242:// performance in positive ones so be careful not to use them in tests
        -:  243:// that have lots (tens of thousands) of positive Boolean assertions.
        -:  244://
        -:  245:// To use this class with EXPECT_PRED_FORMAT assertions such as:
        -:  246://
        -:  247://   // Verifies that Foo() returns an even number.
        -:  248://   EXPECT_PRED_FORMAT1(IsEven, Foo());
        -:  249://
        -:  250:// you need to define:
        -:  251://
        -:  252://   testing::AssertionResult IsEven(const char* expr, int n) {
        -:  253://     if ((n % 2) == 0)
        -:  254://       return testing::AssertionSuccess();
        -:  255://     else
        -:  256://       return testing::AssertionFailure()
        -:  257://         << "Expected: " << expr << " is even\n  Actual: it's " << n;
        -:  258://   }
        -:  259://
        -:  260:// If Foo() returns 5, you will see the following message:
        -:  261://
        -:  262://   Expected: Foo() is even
        -:  263://     Actual: it's 5
        -:  264://
function _ZN7testing15AssertionResultD2Ev called 100 returned 100% blocks executed 100%
      100:  265:class GTEST_API_ AssertionResult {
call    0 returned 100%
        -:  266: public:
        -:  267:  // Copy constructor.
        -:  268:  // Used in EXPECT_TRUE/FALSE(assertion_result).
        -:  269:  AssertionResult(const AssertionResult& other);
        -:  270:  // Used in the EXPECT_TRUE/FALSE(bool_expression).
function _ZN7testing15AssertionResultC2Eb called 100 returned 100% blocks executed 100%
      100:  271:  explicit AssertionResult(bool success) : success_(success) {}
call    0 returned 100%
        -:  272:
        -:  273:  // Returns true iff the assertion succeeded.
function _ZNK7testing15AssertionResultcvbEv called 100 returned 100% blocks executed 100%
      100:  274:  operator bool() const { return success_; }  // NOLINT
        -:  275:
        -:  276:  // Returns the assertion's negation. Used with EXPECT/ASSERT_FALSE.
        -:  277:  AssertionResult operator!() const;
        -:  278:
        -:  279:  // Returns the text streamed into this AssertionResult. Test assertions
        -:  280:  // use it when they fail (i.e., the predicate's outcome doesn't match the
        -:  281:  // assertion's expectation). When nothing has been streamed into the
        -:  282:  // object, returns an empty string.
function _ZNK7testing15AssertionResult7messageEv called 0 returned 0% blocks executed 0%
    #####:  283:  const char* message() const {
    #####:  284:    return message_.get() != NULL ?  message_->c_str() : "";
call    0 never executed
branch  1 never executed
branch  2 never executed
call    3 never executed
call    4 never executed
        -:  285:  }
        -:  286:  // TODO(vladl@google.com): Remove this after making sure no clients use it.
        -:  287:  // Deprecated; please use message() instead.
function _ZNK7testing15AssertionResult15failure_messageEv called 0 returned 0% blocks executed 0%
    #####:  288:  const char* failure_message() const { return message(); }
call    0 never executed
        -:  289:
        -:  290:  // Streams a custom failure message into this object.
function _ZN7testing15AssertionResultlsIA5_cEERS0_RKT_ called 0 returned 0% blocks executed 0%
function _ZN7testing15AssertionResultlsINS_8internal6StringEEERS0_RKT_ called 0 returned 0% blocks executed 0%
function _ZN7testing15AssertionResultlsIA7_cEERS0_RKT_ called 0 returned 0% blocks executed 0%
function _ZN7testing15AssertionResultlsIPKcEERS0_RKT_ called 0 returned 0% blocks executed 0%
function _ZN7testing15AssertionResultlsIA12_cEERS0_RKT_ called 0 returned 0% blocks executed 0%
    #####:  291:  template <typename T> AssertionResult& operator<<(const T& value) {
    #####:  292:    AppendMessage(Message() << value);
call    0 never executed
call    1 never executed
branch  2 never executed
branch  3 never executed
call    4 never executed
branch  5 never executed
branch  6 never executed
call    7 never executed
call    8 never executed
call    9 never executed
call   10 never executed
branch 11 never executed
branch 12 never executed
call   13 never executed
branch 14 never executed
branch 15 never executed
call   16 never executed
call   17 never executed
call   18 never executed
call   19 never executed
branch 20 never executed
branch 21 never executed
call   22 never executed
branch 23 never executed
branch 24 never executed
call   25 never executed
call   26 never executed
call   27 never executed
call   28 never executed
branch 29 never executed
branch 30 never executed
call   31 never executed
branch 32 never executed
branch 33 never executed
call   34 never executed
call   35 never executed
call   36 never executed
call   37 never executed
branch 38 never executed
branch 39 never executed
call   40 never executed
branch 41 never executed
branch 42 never executed
call   43 never executed
call   44 never executed
    #####:  293:    return *this;
        -:  294:  }
        -:  295:
        -:  296:  // Allows streaming basic output manipulators such as endl or flush into
        -:  297:  // this object.
        -:  298:  AssertionResult& operator<<(
        -:  299:      ::std::ostream& (*basic_manipulator)(::std::ostream& stream)) {
        -:  300:    AppendMessage(Message() << basic_manipulator);
        -:  301:    return *this;
        -:  302:  }
        -:  303:
        -:  304: private:
        -:  305:  // Appends the contents of message to message_.
function _ZN7testing15AssertionResult13AppendMessageERKNS_7MessageE called 0 returned 0% blocks executed 0%
    #####:  306:  void AppendMessage(const Message& a_message) {
    #####:  307:    if (message_.get() == NULL)
call    0 never executed
branch  1 never executed
branch  2 never executed
    #####:  308:      message_.reset(new ::std::string);
call    0 never executed
call    1 never executed
branch  2 never executed
branch  3 never executed
call    4 never executed
call    5 never executed
call    6 never executed
    #####:  309:    message_->append(a_message.GetString().c_str());
call    0 never executed
call    1 never executed
call    2 never executed
call    3 never executed
branch  4 never executed
branch  5 never executed
call    6 never executed
call    7 never executed
    #####:  310:  }
        -:  311:
        -:  312:  // Stores result of the assertion predicate.
        -:  313:  bool success_;
        -:  314:  // Stores the message describing the condition in case the expectation
        -:  315:  // construct is not satisfied with the predicate's outcome.
        -:  316:  // Referenced via a pointer to avoid taking too much stack frame space
        -:  317:  // with test assertions.
        -:  318:  internal::scoped_ptr< ::std::string> message_;
        -:  319:
        -:  320:  GTEST_DISALLOW_ASSIGN_(AssertionResult);
        -:  321:};
        -:  322:
        -:  323:// Makes a successful assertion result.
        -:  324:GTEST_API_ AssertionResult AssertionSuccess();
        -:  325:
        -:  326:// Makes a failed assertion result.
        -:  327:GTEST_API_ AssertionResult AssertionFailure();
        -:  328:
        -:  329:// Makes a failed assertion result with the given failure message.
        -:  330:// Deprecated; use AssertionFailure() << msg.
        -:  331:GTEST_API_ AssertionResult AssertionFailure(const Message& msg);
        -:  332:
        -:  333:// The abstract class that all tests inherit from.
        -:  334://
        -:  335:// In Google Test, a unit test program contains one or many TestCases, and
        -:  336:// each TestCase contains one or many Tests.
        -:  337://
        -:  338:// When you define a test using the TEST macro, you don't need to
        -:  339:// explicitly derive from Test - the TEST macro automatically does
        -:  340:// this for you.
        -:  341://
        -:  342:// The only time you derive from Test is when defining a test fixture
        -:  343:// to be used a TEST_F.  For example:
        -:  344://
        -:  345://   class FooTest : public testing::Test {
        -:  346://    protected:
        -:  347://     virtual void SetUp() { ... }
        -:  348://     virtual void TearDown() { ... }
        -:  349://     ...
        -:  350://   };
        -:  351://
        -:  352://   TEST_F(FooTest, Bar) { ... }
        -:  353://   TEST_F(FooTest, Baz) { ... }
        -:  354://
        -:  355:// Test is not copyable.
        -:  356:class GTEST_API_ Test {
        -:  357: public:
        -:  358:  friend class TestInfo;
        -:  359:
        -:  360:  // Defines types for pointers to functions that set up and tear down
        -:  361:  // a test case.
        -:  362:  typedef internal::SetUpTestCaseFunc SetUpTestCaseFunc;
        -:  363:  typedef internal::TearDownTestCaseFunc TearDownTestCaseFunc;
        -:  364:
        -:  365:  // The d'tor is virtual as we intend to inherit from Test.
        -:  366:  virtual ~Test();
        -:  367:
        -:  368:  // Sets up the stuff shared by all tests in this test case.
        -:  369:  //
        -:  370:  // Google Test will call Foo::SetUpTestCase() before running the first
        -:  371:  // test in test case Foo.  Hence a sub-class can define its own
        -:  372:  // SetUpTestCase() method to shadow the one defined in the super
        -:  373:  // class.
function _ZN7testing4Test13SetUpTestCaseEv called 1 returned 100% blocks executed 100%
        1:  374:  static void SetUpTestCase() {}
        -:  375:
        -:  376:  // Tears down the stuff shared by all tests in this test case.
        -:  377:  //
        -:  378:  // Google Test will call Foo::TearDownTestCase() after running the last
        -:  379:  // test in test case Foo.  Hence a sub-class can define its own
        -:  380:  // TearDownTestCase() method to shadow the one defined in the super
        -:  381:  // class.
function _ZN7testing4Test16TearDownTestCaseEv called 1 returned 100% blocks executed 100%
        1:  382:  static void TearDownTestCase() {}
        -:  383:
        -:  384:  // Returns true iff the current test has a fatal failure.
        -:  385:  static bool HasFatalFailure();
        -:  386:
        -:  387:  // Returns true iff the current test has a non-fatal failure.
        -:  388:  static bool HasNonfatalFailure();
        -:  389:
        -:  390:  // Returns true iff the current test has a (either fatal or
        -:  391:  // non-fatal) failure.
        -:  392:  static bool HasFailure() { return HasFatalFailure() || HasNonfatalFailure(); }
        -:  393:
        -:  394:  // Logs a property for the current test.  Only the last value for a given
        -:  395:  // key is remembered.
        -:  396:  // These are public static so they can be called from utility functions
        -:  397:  // that are not members of the test fixture.
        -:  398:  // The arguments are const char* instead strings, as Google Test is used
        -:  399:  // on platforms where string doesn't compile.
        -:  400:  //
        -:  401:  // Note that a driving consideration for these RecordProperty methods
        -:  402:  // was to produce xml output suited to the Greenspan charting utility,
        -:  403:  // which at present will only chart values that fit in a 32-bit int. It
        -:  404:  // is the user's responsibility to restrict their values to 32-bit ints
        -:  405:  // if they intend them to be used with Greenspan.
        -:  406:  static void RecordProperty(const char* key, const char* value);
        -:  407:  static void RecordProperty(const char* key, int value);
        -:  408:
        -:  409: protected:
        -:  410:  // Creates a Test object.
        -:  411:  Test();
        -:  412:
        -:  413:  // Sets up the test fixture.
        -:  414:  virtual void SetUp();
        -:  415:
        -:  416:  // Tears down the test fixture.
        -:  417:  virtual void TearDown();
        -:  418:
        -:  419: private:
        -:  420:  // Returns true iff the current test has the same fixture class as
        -:  421:  // the first test in the current test case.
        -:  422:  static bool HasSameFixtureClass();
        -:  423:
        -:  424:  // Runs the test after the test fixture has been set up.
        -:  425:  //
        -:  426:  // A sub-class must implement this to define the test logic.
        -:  427:  //
        -:  428:  // DO NOT OVERRIDE THIS FUNCTION DIRECTLY IN A USER PROGRAM.
        -:  429:  // Instead, use the TEST or TEST_F macro.
        -:  430:  virtual void TestBody() = 0;
        -:  431:
        -:  432:  // Sets up, executes, and tears down the test.
        -:  433:  void Run();
        -:  434:
        -:  435:  // Deletes self.  We deliberately pick an unusual name for this
        -:  436:  // internal method to avoid clashing with names used in user TESTs.
        -:  437:  void DeleteSelf_() { delete this; }
        -:  438:
        -:  439:  // Uses a GTestFlagSaver to save and restore all Google Test flags.
        -:  440:  const internal::GTestFlagSaver* const gtest_flag_saver_;
        -:  441:
        -:  442:  // Often a user mis-spells SetUp() as Setup() and spends a long time
        -:  443:  // wondering why it is never called by Google Test.  The declaration of
        -:  444:  // the following method is solely for catching such an error at
        -:  445:  // compile time:
        -:  446:  //
        -:  447:  //   - The return type is deliberately chosen to be not void, so it
        -:  448:  //   will be a conflict if a user declares void Setup() in his test
        -:  449:  //   fixture.
        -:  450:  //
        -:  451:  //   - This method is private, so it will be another compiler error
        -:  452:  //   if a user calls it from his test fixture.
        -:  453:  //
        -:  454:  // DO NOT OVERRIDE THIS FUNCTION.
        -:  455:  //
        -:  456:  // If you see an error about overriding the following function or
        -:  457:  // about it being private, you have mis-spelled SetUp() as Setup().
        -:  458:  struct Setup_should_be_spelled_SetUp {};
function _ZN7testing4Test5SetupEv called 0 returned 0% blocks executed 0%
    #####:  459:  virtual Setup_should_be_spelled_SetUp* Setup() { return NULL; }
        -:  460:
        -:  461:  // We disallow copying Tests.
        -:  462:  GTEST_DISALLOW_COPY_AND_ASSIGN_(Test);
        -:  463:};
        -:  464:
        -:  465:typedef internal::TimeInMillis TimeInMillis;
        -:  466:
        -:  467:// A copyable object representing a user specified test property which can be
        -:  468:// output as a key/value string pair.
        -:  469://
        -:  470:// Don't inherit from TestProperty as its destructor is not virtual.
        -:  471:class TestProperty {
        -:  472: public:
        -:  473:  // C'tor.  TestProperty does NOT have a default constructor.
        -:  474:  // Always use this constructor (with parameters) to create a
        -:  475:  // TestProperty object.
        -:  476:  TestProperty(const char* a_key, const char* a_value) :
        -:  477:    key_(a_key), value_(a_value) {
        -:  478:  }
        -:  479:
        -:  480:  // Gets the user supplied key.
        -:  481:  const char* key() const {
        -:  482:    return key_.c_str();
        -:  483:  }
        -:  484:
        -:  485:  // Gets the user supplied value.
        -:  486:  const char* value() const {
        -:  487:    return value_.c_str();
        -:  488:  }
        -:  489:
        -:  490:  // Sets a new value, overriding the one supplied in the constructor.
        -:  491:  void SetValue(const char* new_value) {
        -:  492:    value_ = new_value;
        -:  493:  }
        -:  494:
        -:  495: private:
        -:  496:  // The key supplied by the user.
        -:  497:  internal::String key_;
        -:  498:  // The value supplied by the user.
        -:  499:  internal::String value_;
        -:  500:};
        -:  501:
        -:  502:// The result of a single Test.  This includes a list of
        -:  503:// TestPartResults, a list of TestProperties, a count of how many
        -:  504:// death tests there are in the Test, and how much time it took to run
        -:  505:// the Test.
        -:  506://
        -:  507:// TestResult is not copyable.
        -:  508:class GTEST_API_ TestResult {
        -:  509: public:
        -:  510:  // Creates an empty TestResult.
        -:  511:  TestResult();
        -:  512:
        -:  513:  // D'tor.  Do not inherit from TestResult.
        -:  514:  ~TestResult();
        -:  515:
        -:  516:  // Gets the number of all test parts.  This is the sum of the number
        -:  517:  // of successful test parts and the number of failed test parts.
        -:  518:  int total_part_count() const;
        -:  519:
        -:  520:  // Returns the number of the test properties.
        -:  521:  int test_property_count() const;
        -:  522:
        -:  523:  // Returns true iff the test passed (i.e. no test part failed).
        -:  524:  bool Passed() const { return !Failed(); }
        -:  525:
        -:  526:  // Returns true iff the test failed.
        -:  527:  bool Failed() const;
        -:  528:
        -:  529:  // Returns true iff the test fatally failed.
        -:  530:  bool HasFatalFailure() const;
        -:  531:
        -:  532:  // Returns true iff the test has a non-fatal failure.
        -:  533:  bool HasNonfatalFailure() const;
        -:  534:
        -:  535:  // Returns the elapsed time, in milliseconds.
        -:  536:  TimeInMillis elapsed_time() const { return elapsed_time_; }
        -:  537:
        -:  538:  // Returns the i-th test part result among all the results. i can range
        -:  539:  // from 0 to test_property_count() - 1. If i is not in that range, aborts
        -:  540:  // the program.
        -:  541:  const TestPartResult& GetTestPartResult(int i) const;
        -:  542:
        -:  543:  // Returns the i-th test property. i can range from 0 to
        -:  544:  // test_property_count() - 1. If i is not in that range, aborts the
        -:  545:  // program.
        -:  546:  const TestProperty& GetTestProperty(int i) const;
        -:  547:
        -:  548: private:
        -:  549:  friend class TestInfo;
        -:  550:  friend class UnitTest;
        -:  551:  friend class internal::DefaultGlobalTestPartResultReporter;
        -:  552:  friend class internal::ExecDeathTest;
        -:  553:  friend class internal::TestResultAccessor;
        -:  554:  friend class internal::UnitTestImpl;
        -:  555:  friend class internal::WindowsDeathTest;
        -:  556:
        -:  557:  // Gets the vector of TestPartResults.
        -:  558:  const std::vector<TestPartResult>& test_part_results() const {
        -:  559:    return test_part_results_;
        -:  560:  }
        -:  561:
        -:  562:  // Gets the vector of TestProperties.
        -:  563:  const std::vector<TestProperty>& test_properties() const {
        -:  564:    return test_properties_;
        -:  565:  }
        -:  566:
        -:  567:  // Sets the elapsed time.
        -:  568:  void set_elapsed_time(TimeInMillis elapsed) { elapsed_time_ = elapsed; }
        -:  569:
        -:  570:  // Adds a test property to the list. The property is validated and may add
        -:  571:  // a non-fatal failure if invalid (e.g., if it conflicts with reserved
        -:  572:  // key names). If a property is already recorded for the same key, the
        -:  573:  // value will be updated, rather than storing multiple values for the same
        -:  574:  // key.
        -:  575:  void RecordProperty(const TestProperty& test_property);
        -:  576:
        -:  577:  // Adds a failure if the key is a reserved attribute of Google Test
        -:  578:  // testcase tags.  Returns true if the property is valid.
        -:  579:  // TODO(russr): Validate attribute names are legal and human readable.
        -:  580:  static bool ValidateTestProperty(const TestProperty& test_property);
        -:  581:
        -:  582:  // Adds a test part result to the list.
        -:  583:  void AddTestPartResult(const TestPartResult& test_part_result);
        -:  584:
        -:  585:  // Returns the death test count.
        -:  586:  int death_test_count() const { return death_test_count_; }
        -:  587:
        -:  588:  // Increments the death test count, returning the new count.
        -:  589:  int increment_death_test_count() { return ++death_test_count_; }
        -:  590:
        -:  591:  // Clears the test part results.
        -:  592:  void ClearTestPartResults();
        -:  593:
        -:  594:  // Clears the object.
        -:  595:  void Clear();
        -:  596:
        -:  597:  // Protects mutable state of the property vector and of owned
        -:  598:  // properties, whose values may be updated.
        -:  599:  internal::Mutex test_properites_mutex_;
        -:  600:
        -:  601:  // The vector of TestPartResults
        -:  602:  std::vector<TestPartResult> test_part_results_;
        -:  603:  // The vector of TestProperties
        -:  604:  std::vector<TestProperty> test_properties_;
        -:  605:  // Running count of death tests.
        -:  606:  int death_test_count_;
        -:  607:  // The elapsed time, in milliseconds.
        -:  608:  TimeInMillis elapsed_time_;
        -:  609:
        -:  610:  // We disallow copying TestResult.
        -:  611:  GTEST_DISALLOW_COPY_AND_ASSIGN_(TestResult);
        -:  612:};  // class TestResult
        -:  613:
        -:  614:// A TestInfo object stores the following information about a test:
        -:  615://
        -:  616://   Test case name
        -:  617://   Test name
        -:  618://   Whether the test should be run
        -:  619://   A function pointer that creates the test object when invoked
        -:  620://   Test result
        -:  621://
        -:  622:// The constructor of TestInfo registers itself with the UnitTest
        -:  623:// singleton such that the RUN_ALL_TESTS() macro knows which tests to
        -:  624:// run.
        -:  625:class GTEST_API_ TestInfo {
        -:  626: public:
        -:  627:  // Destructs a TestInfo object.  This function is not virtual, so
        -:  628:  // don't inherit from TestInfo.
        -:  629:  ~TestInfo();
        -:  630:
        -:  631:  // Returns the test case name.
        -:  632:  const char* test_case_name() const { return test_case_name_.c_str(); }
        -:  633:
        -:  634:  // Returns the test name.
        -:  635:  const char* name() const { return name_.c_str(); }
        -:  636:
        -:  637:  // Returns the name of the parameter type, or NULL if this is not a typed
        -:  638:  // or a type-parameterized test.
        -:  639:  const char* type_param() const {
        -:  640:    if (type_param_.get() != NULL)
        -:  641:      return type_param_->c_str();
        -:  642:    return NULL;
        -:  643:  }
        -:  644:
        -:  645:  // Returns the text representation of the value parameter, or NULL if this
        -:  646:  // is not a value-parameterized test.
        -:  647:  const char* value_param() const {
        -:  648:    if (value_param_.get() != NULL)
        -:  649:      return value_param_->c_str();
        -:  650:    return NULL;
        -:  651:  }
        -:  652:
        -:  653:  // Returns true if this test should run, that is if the test is not disabled
        -:  654:  // (or it is disabled but the also_run_disabled_tests flag has been specified)
        -:  655:  // and its full name matches the user-specified filter.
        -:  656:  //
        -:  657:  // Google Test allows the user to filter the tests by their full names.
        -:  658:  // The full name of a test Bar in test case Foo is defined as
        -:  659:  // "Foo.Bar".  Only the tests that match the filter will run.
        -:  660:  //
        -:  661:  // A filter is a colon-separated list of glob (not regex) patterns,
        -:  662:  // optionally followed by a '-' and a colon-separated list of
        -:  663:  // negative patterns (tests to exclude).  A test is run if it
        -:  664:  // matches one of the positive patterns and does not match any of
        -:  665:  // the negative patterns.
        -:  666:  //
        -:  667:  // For example, *A*:Foo.* is a filter that matches any string that
        -:  668:  // contains the character 'A' or starts with "Foo.".
        -:  669:  bool should_run() const { return should_run_; }
        -:  670:
        -:  671:  // Returns true if the test was filtered out by --gtest_filter
        -:  672:  bool filtered_out() const { return !matches_filter_; }
        -:  673:
        -:  674:  // Returns the result of the test.
        -:  675:  const TestResult* result() const { return &result_; }
        -:  676:
        -:  677: private:
        -:  678:
        -:  679:#if GTEST_HAS_DEATH_TEST
        -:  680:  friend class internal::DefaultDeathTestFactory;
        -:  681:#endif  // GTEST_HAS_DEATH_TEST
        -:  682:  friend class Test;
        -:  683:  friend class TestCase;
        -:  684:  friend class internal::UnitTestImpl;
        -:  685:  friend TestInfo* internal::MakeAndRegisterTestInfo(
        -:  686:      const char* test_case_name, const char* name,
        -:  687:      const char* type_param,
        -:  688:      const char* value_param,
        -:  689:      internal::TypeId fixture_class_id,
        -:  690:      Test::SetUpTestCaseFunc set_up_tc,
        -:  691:      Test::TearDownTestCaseFunc tear_down_tc,
        -:  692:      internal::TestFactoryBase* factory);
        -:  693:
        -:  694:  // Constructs a TestInfo object. The newly constructed instance assumes
        -:  695:  // ownership of the factory object.
        -:  696:  TestInfo(const char* test_case_name, const char* name,
        -:  697:           const char* a_type_param,
        -:  698:           const char* a_value_param,
        -:  699:           internal::TypeId fixture_class_id,
        -:  700:           internal::TestFactoryBase* factory);
        -:  701:
        -:  702:  // Increments the number of death tests encountered in this test so
        -:  703:  // far.
        -:  704:  int increment_death_test_count() {
        -:  705:    return result_.increment_death_test_count();
        -:  706:  }
        -:  707:
        -:  708:  // Creates the test object, runs it, records its result, and then
        -:  709:  // deletes it.
        -:  710:  void Run();
        -:  711:
        -:  712:  static void ClearTestResult(TestInfo* test_info) {
        -:  713:    test_info->result_.Clear();
        -:  714:  }
        -:  715:
        -:  716:  // These fields are immutable properties of the test.
        -:  717:  const std::string test_case_name_;     // Test case name
        -:  718:  const std::string name_;               // Test name
        -:  719:  // Name of the parameter type, or NULL if this is not a typed or a
        -:  720:  // type-parameterized test.
        -:  721:  const internal::scoped_ptr<const ::std::string> type_param_;
        -:  722:  // Text representation of the value parameter, or NULL if this is not a
        -:  723:  // value-parameterized test.
        -:  724:  const internal::scoped_ptr<const ::std::string> value_param_;
        -:  725:  const internal::TypeId fixture_class_id_;   // ID of the test fixture class
        -:  726:  bool should_run_;                 // True iff this test should run
        -:  727:  bool is_disabled_;                // True iff this test is disabled
        -:  728:  bool matches_filter_;             // True if this test matches the
        -:  729:                                    // user-specified filter.
        -:  730:  internal::TestFactoryBase* const factory_;  // The factory that creates
        -:  731:                                              // the test object
        -:  732:
        -:  733:  // This field is mutable and needs to be reset before running the
        -:  734:  // test for the second time.
        -:  735:  TestResult result_;
        -:  736:
        -:  737:  GTEST_DISALLOW_COPY_AND_ASSIGN_(TestInfo);
        -:  738:};
        -:  739:
        -:  740:// A test case, which consists of a vector of TestInfos.
        -:  741://
        -:  742:// TestCase is not copyable.
        -:  743:class GTEST_API_ TestCase {
        -:  744: public:
        -:  745:  // Creates a TestCase with the given name.
        -:  746:  //
        -:  747:  // TestCase does NOT have a default constructor.  Always use this
        -:  748:  // constructor to create a TestCase object.
        -:  749:  //
        -:  750:  // Arguments:
        -:  751:  //
        -:  752:  //   name:         name of the test case
        -:  753:  //   a_type_param: the name of the test's type parameter, or NULL if
        -:  754:  //                 this is not a type-parameterized test.
        -:  755:  //   set_up_tc:    pointer to the function that sets up the test case
        -:  756:  //   tear_down_tc: pointer to the function that tears down the test case
        -:  757:  TestCase(const char* name, const char* a_type_param,
        -:  758:           Test::SetUpTestCaseFunc set_up_tc,
        -:  759:           Test::TearDownTestCaseFunc tear_down_tc);
        -:  760:
        -:  761:  // Destructor of TestCase.
        -:  762:  virtual ~TestCase();
        -:  763:
        -:  764:  // Gets the name of the TestCase.
        -:  765:  const char* name() const { return name_.c_str(); }
        -:  766:
        -:  767:  // Returns the name of the parameter type, or NULL if this is not a
        -:  768:  // type-parameterized test case.
        -:  769:  const char* type_param() const {
        -:  770:    if (type_param_.get() != NULL)
        -:  771:      return type_param_->c_str();
        -:  772:    return NULL;
        -:  773:  }
        -:  774:
        -:  775:  // Returns true if any test in this test case should run.
        -:  776:  bool should_run() const { return should_run_; }
        -:  777:
        -:  778:  // Returns true if this test case should be skipped in the report.
        -:  779:  bool should_skip_report() const { return should_skip_report_; }
        -:  780:
        -:  781:  // Gets the number of successful tests in this test case.
        -:  782:  int successful_test_count() const;
        -:  783:
        -:  784:  // Gets the number of failed tests in this test case.
        -:  785:  int failed_test_count() const;
        -:  786:
        -:  787:  // Gets the number of disabled tests in this test case.
        -:  788:  int disabled_test_count() const;
        -:  789:
        -:  790:  // Get the number of tests in this test case that should run.
        -:  791:  int test_to_run_count() const;
        -:  792:
        -:  793:  // Gets the number of all tests in this test case.
        -:  794:  int total_test_count() const;
        -:  795:
        -:  796:  // Returns true iff the test case passed.
        -:  797:  bool Passed() const { return !Failed(); }
        -:  798:
        -:  799:  // Returns true iff the test case failed.
        -:  800:  bool Failed() const { return failed_test_count() > 0; }
        -:  801:
        -:  802:  // Returns the elapsed time, in milliseconds.
        -:  803:  TimeInMillis elapsed_time() const { return elapsed_time_; }
        -:  804:
        -:  805:  // Returns the i-th test among all the tests. i can range from 0 to
        -:  806:  // total_test_count() - 1. If i is not in that range, returns NULL.
        -:  807:  const TestInfo* GetTestInfo(int i) const;
        -:  808:
        -:  809: private:
        -:  810:  friend class Test;
        -:  811:  friend class internal::UnitTestImpl;
        -:  812:
        -:  813:  // Gets the (mutable) vector of TestInfos in this TestCase.
        -:  814:  std::vector<TestInfo*>& test_info_list() { return test_info_list_; }
        -:  815:
        -:  816:  // Gets the (immutable) vector of TestInfos in this TestCase.
        -:  817:  const std::vector<TestInfo*>& test_info_list() const {
        -:  818:    return test_info_list_;
        -:  819:  }
        -:  820:
        -:  821:  // Returns the i-th test among all the tests. i can range from 0 to
        -:  822:  // total_test_count() - 1. If i is not in that range, returns NULL.
        -:  823:  TestInfo* GetMutableTestInfo(int i);
        -:  824:
        -:  825:  // Sets the should_run member.
        -:  826:  void set_should_run(bool should) { should_run_ = should; }
        -:  827:  void set_should_skip_report(bool should) { should_skip_report_ = should; }
        -:  828:
        -:  829:  // Adds a TestInfo to this test case.  Will delete the TestInfo upon
        -:  830:  // destruction of the TestCase object.
        -:  831:  void AddTestInfo(TestInfo * test_info);
        -:  832:
        -:  833:  // Clears the results of all tests in this test case.
        -:  834:  void ClearResult();
        -:  835:
        -:  836:  // Clears the results of all tests in the given test case.
        -:  837:  static void ClearTestCaseResult(TestCase* test_case) {
        -:  838:    test_case->ClearResult();
        -:  839:  }
        -:  840:
        -:  841:  // Runs every test in this TestCase.
        -:  842:  void Run();
        -:  843:
        -:  844:  // Runs SetUpTestCase() for this TestCase.  This wrapper is needed
        -:  845:  // for catching exceptions thrown from SetUpTestCase().
        -:  846:  void RunSetUpTestCase() { (*set_up_tc_)(); }
        -:  847:
        -:  848:  // Runs TearDownTestCase() for this TestCase.  This wrapper is
        -:  849:  // needed for catching exceptions thrown from TearDownTestCase().
        -:  850:  void RunTearDownTestCase() { (*tear_down_tc_)(); }
        -:  851:
        -:  852:  // Returns true iff test passed.
        -:  853:  static bool TestPassed(const TestInfo* test_info) {
        -:  854:    return test_info->should_run() && test_info->result()->Passed();
        -:  855:  }
        -:  856:
        -:  857:  // Returns true iff test failed.
        -:  858:  static bool TestFailed(const TestInfo* test_info) {
        -:  859:    return test_info->should_run() && test_info->result()->Failed();
        -:  860:  }
        -:  861:
        -:  862:  // Returns true iff test is disabled.
        -:  863:  static bool TestDisabled(const TestInfo* test_info) {
        -:  864:    return test_info->is_disabled_;
        -:  865:  }
        -:  866:
        -:  867:  // Returns true if the given test should run.
        -:  868:  static bool ShouldRunTest(const TestInfo* test_info) {
        -:  869:    return test_info->should_run();
        -:  870:  }
        -:  871:
        -:  872:  // Shuffles the tests in this test case.
        -:  873:  void ShuffleTests(internal::Random* random);
        -:  874:
        -:  875:  // Restores the test order to before the first shuffle.
        -:  876:  void UnshuffleTests();
        -:  877:
        -:  878:  // Name of the test case.
        -:  879:  internal::String name_;
        -:  880:  // Name of the parameter type, or NULL if this is not a typed or a
        -:  881:  // type-parameterized test.
        -:  882:  const internal::scoped_ptr<const ::std::string> type_param_;
        -:  883:  // The vector of TestInfos in their original order.  It owns the
        -:  884:  // elements in the vector.
        -:  885:  std::vector<TestInfo*> test_info_list_;
        -:  886:  // Provides a level of indirection for the test list to allow easy
        -:  887:  // shuffling and restoring the test order.  The i-th element in this
        -:  888:  // vector is the index of the i-th test in the shuffled test list.
        -:  889:  std::vector<int> test_indices_;
        -:  890:  // Pointer to the function that sets up the test case.
        -:  891:  Test::SetUpTestCaseFunc set_up_tc_;
        -:  892:  // Pointer to the function that tears down the test case.
        -:  893:  Test::TearDownTestCaseFunc tear_down_tc_;
        -:  894:  // True iff any test in this test case should run.
        -:  895:  bool should_run_;
        -:  896:  // True if this test case should not be reported
        -:  897:  bool should_skip_report_;
        -:  898:  // Elapsed time, in milliseconds.
        -:  899:  TimeInMillis elapsed_time_;
        -:  900:
        -:  901:  // We disallow copying TestCases.
        -:  902:  GTEST_DISALLOW_COPY_AND_ASSIGN_(TestCase);
        -:  903:};
        -:  904:
        -:  905:// An Environment object is capable of setting up and tearing down an
        -:  906:// environment.  The user should subclass this to define his own
        -:  907:// environment(s).
        -:  908://
        -:  909:// An Environment object does the set-up and tear-down in virtual
        -:  910:// methods SetUp() and TearDown() instead of the constructor and the
        -:  911:// destructor, as:
        -:  912://
        -:  913://   1. You cannot safely throw from a destructor.  This is a problem
        -:  914://      as in some cases Google Test is used where exceptions are enabled, and
        -:  915://      we may want to implement ASSERT_* using exceptions where they are
        -:  916://      available.
        -:  917://   2. You cannot use ASSERT_* directly in a constructor or
        -:  918://      destructor.
        -:  919:class Environment {
        -:  920: public:
        -:  921:  // The d'tor is virtual as we need to subclass Environment.
        -:  922:  virtual ~Environment() {}
        -:  923:
        -:  924:  // Override this to define how to set up the environment.
        -:  925:  virtual void SetUp() {}
        -:  926:
        -:  927:  // Override this to define how to tear down the environment.
        -:  928:  virtual void TearDown() {}
        -:  929: private:
        -:  930:  // If you see an error about overriding the following function or
        -:  931:  // about it being private, you have mis-spelled SetUp() as Setup().
        -:  932:  struct Setup_should_be_spelled_SetUp {};
        -:  933:  virtual Setup_should_be_spelled_SetUp* Setup() { return NULL; }
        -:  934:};
        -:  935:
        -:  936:// The interface for tracing execution of tests. The methods are organized in
        -:  937:// the order the corresponding events are fired.
        -:  938:class TestEventListener {
        -:  939: public:
        -:  940:  virtual ~TestEventListener() {}
        -:  941:
        -:  942:  // Fired before any test activity starts.
        -:  943:  virtual void OnTestProgramStart(const UnitTest& unit_test) = 0;
        -:  944:
        -:  945:  // Fired before each iteration of tests starts.  There may be more than
        -:  946:  // one iteration if GTEST_FLAG(repeat) is set. iteration is the iteration
        -:  947:  // index, starting from 0.
        -:  948:  virtual void OnTestIterationStart(const UnitTest& unit_test,
        -:  949:                                    int iteration) = 0;
        -:  950:
        -:  951:  // Fired before environment set-up for each iteration of tests starts.
        -:  952:  virtual void OnEnvironmentsSetUpStart(const UnitTest& unit_test) = 0;
        -:  953:
        -:  954:  // Fired after environment set-up for each iteration of tests ends.
        -:  955:  virtual void OnEnvironmentsSetUpEnd(const UnitTest& unit_test) = 0;
        -:  956:
        -:  957:  // Fired before the test case starts.
        -:  958:  virtual void OnTestCaseStart(const TestCase& test_case) = 0;
        -:  959:
        -:  960:  // Fired before the test starts.
        -:  961:  virtual void OnTestStart(const TestInfo& test_info) = 0;
        -:  962:
        -:  963:  // Fired after a failed assertion or a SUCCEED() invocation.
        -:  964:  virtual void OnTestPartResult(const TestPartResult& test_part_result) = 0;
        -:  965:
        -:  966:  // Fired after the test ends.
        -:  967:  virtual void OnTestEnd(const TestInfo& test_info) = 0;
        -:  968:
        -:  969:  // Fired after the test case ends.
        -:  970:  virtual void OnTestCaseEnd(const TestCase& test_case) = 0;
        -:  971:
        -:  972:  // Fired before environment tear-down for each iteration of tests starts.
        -:  973:  virtual void OnEnvironmentsTearDownStart(const UnitTest& unit_test) = 0;
        -:  974:
        -:  975:  // Fired after environment tear-down for each iteration of tests ends.
        -:  976:  virtual void OnEnvironmentsTearDownEnd(const UnitTest& unit_test) = 0;
        -:  977:
        -:  978:  // Fired after each iteration of tests finishes.
        -:  979:  virtual void OnTestIterationEnd(const UnitTest& unit_test,
        -:  980:                                  int iteration) = 0;
        -:  981:
        -:  982:  // Fired after all test activities have ended.
        -:  983:  virtual void OnTestProgramEnd(const UnitTest& unit_test) = 0;
        -:  984:};
        -:  985:
        -:  986:// The convenience class for users who need to override just one or two
        -:  987:// methods and are not concerned that a possible change to a signature of
        -:  988:// the methods they override will not be caught during the build.  For
        -:  989:// comments about each method please see the definition of TestEventListener
        -:  990:// above.
        -:  991:class EmptyTestEventListener : public TestEventListener {
        -:  992: public:
        -:  993:  virtual void OnTestProgramStart(const UnitTest& /*unit_test*/) {}
        -:  994:  virtual void OnTestIterationStart(const UnitTest& /*unit_test*/,
        -:  995:                                    int /*iteration*/) {}
        -:  996:  virtual void OnEnvironmentsSetUpStart(const UnitTest& /*unit_test*/) {}
        -:  997:  virtual void OnEnvironmentsSetUpEnd(const UnitTest& /*unit_test*/) {}
        -:  998:  virtual void OnTestCaseStart(const TestCase& /*test_case*/) {}
        -:  999:  virtual void OnTestStart(const TestInfo& /*test_info*/) {}
        -: 1000:  virtual void OnTestPartResult(const TestPartResult& /*test_part_result*/) {}
        -: 1001:  virtual void OnTestEnd(const TestInfo& /*test_info*/) {}
        -: 1002:  virtual void OnTestCaseEnd(const TestCase& /*test_case*/) {}
        -: 1003:  virtual void OnEnvironmentsTearDownStart(const UnitTest& /*unit_test*/) {}
        -: 1004:  virtual void OnEnvironmentsTearDownEnd(const UnitTest& /*unit_test*/) {}
        -: 1005:  virtual void OnTestIterationEnd(const UnitTest& /*unit_test*/,
        -: 1006:                                  int /*iteration*/) {}
        -: 1007:  virtual void OnTestProgramEnd(const UnitTest& /*unit_test*/) {}
        -: 1008:};
        -: 1009:
        -: 1010:// TestEventListeners lets users add listeners to track events in Google Test.
        -: 1011:class GTEST_API_ TestEventListeners {
        -: 1012: public:
        -: 1013:  TestEventListeners();
        -: 1014:  ~TestEventListeners();
        -: 1015:
        -: 1016:  // Appends an event listener to the end of the list. Google Test assumes
        -: 1017:  // the ownership of the listener (i.e. it will delete the listener when
        -: 1018:  // the test program finishes).
        -: 1019:  void Append(TestEventListener* listener);
        -: 1020:
        -: 1021:  // Removes the given event listener from the list and returns it.  It then
        -: 1022:  // becomes the caller's responsibility to delete the listener. Returns
        -: 1023:  // NULL if the listener is not found in the list.
        -: 1024:  TestEventListener* Release(TestEventListener* listener);
        -: 1025:
        -: 1026:  // Returns the standard listener responsible for the default console
        -: 1027:  // output.  Can be removed from the listeners list to shut down default
        -: 1028:  // console output.  Note that removing this object from the listener list
        -: 1029:  // with Release transfers its ownership to the caller and makes this
        -: 1030:  // function return NULL the next time.
        -: 1031:  TestEventListener* default_result_printer() const {
        -: 1032:    return default_result_printer_;
        -: 1033:  }
        -: 1034:
        -: 1035:  // Returns the standard listener responsible for the default XML output
        -: 1036:  // controlled by the --gtest_output=xml flag.  Can be removed from the
        -: 1037:  // listeners list by users who want to shut down the default XML output
        -: 1038:  // controlled by this flag and substitute it with custom one.  Note that
        -: 1039:  // removing this object from the listener list with Release transfers its
        -: 1040:  // ownership to the caller and makes this function return NULL the next
        -: 1041:  // time.
        -: 1042:  TestEventListener* default_xml_generator() const {
        -: 1043:    return default_xml_generator_;
        -: 1044:  }
        -: 1045:
        -: 1046: private:
        -: 1047:  friend class TestCase;
        -: 1048:  friend class TestInfo;
        -: 1049:  friend class internal::DefaultGlobalTestPartResultReporter;
        -: 1050:  friend class internal::NoExecDeathTest;
        -: 1051:  friend class internal::TestEventListenersAccessor;
        -: 1052:  friend class internal::UnitTestImpl;
        -: 1053:
        -: 1054:  // Returns repeater that broadcasts the TestEventListener events to all
        -: 1055:  // subscribers.
        -: 1056:  TestEventListener* repeater();
        -: 1057:
        -: 1058:  // Sets the default_result_printer attribute to the provided listener.
        -: 1059:  // The listener is also added to the listener list and previous
        -: 1060:  // default_result_printer is removed from it and deleted. The listener can
        -: 1061:  // also be NULL in which case it will not be added to the list. Does
        -: 1062:  // nothing if the previous and the current listener objects are the same.
        -: 1063:  void SetDefaultResultPrinter(TestEventListener* listener);
        -: 1064:
        -: 1065:  // Sets the default_xml_generator attribute to the provided listener.  The
        -: 1066:  // listener is also added to the listener list and previous
        -: 1067:  // default_xml_generator is removed from it and deleted. The listener can
        -: 1068:  // also be NULL in which case it will not be added to the list. Does
        -: 1069:  // nothing if the previous and the current listener objects are the same.
        -: 1070:  void SetDefaultXmlGenerator(TestEventListener* listener);
        -: 1071:
        -: 1072:  // Controls whether events will be forwarded by the repeater to the
        -: 1073:  // listeners in the list.
        -: 1074:  bool EventForwardingEnabled() const;
        -: 1075:  void SuppressEventForwarding();
        -: 1076:
        -: 1077:  // The actual list of listeners.
        -: 1078:  internal::TestEventRepeater* repeater_;
        -: 1079:  // Listener responsible for the standard result output.
        -: 1080:  TestEventListener* default_result_printer_;
        -: 1081:  // Listener responsible for the creation of the XML output file.
        -: 1082:  TestEventListener* default_xml_generator_;
        -: 1083:
        -: 1084:  // We disallow copying TestEventListeners.
        -: 1085:  GTEST_DISALLOW_COPY_AND_ASSIGN_(TestEventListeners);
        -: 1086:};
        -: 1087:
        -: 1088:// A UnitTest consists of a vector of TestCases.
        -: 1089://
        -: 1090:// This is a singleton class.  The only instance of UnitTest is
        -: 1091:// created when UnitTest::GetInstance() is first called.  This
        -: 1092:// instance is never deleted.
        -: 1093://
        -: 1094:// UnitTest is not copyable.
        -: 1095://
        -: 1096:// This class is thread-safe as long as the methods are called
        -: 1097:// according to their specification.
        -: 1098:class GTEST_API_ UnitTest {
        -: 1099: public:
        -: 1100:  // Gets the singleton UnitTest object.  The first time this method
        -: 1101:  // is called, a UnitTest object is constructed and returned.
        -: 1102:  // Consecutive calls will return the same object.
        -: 1103:  static UnitTest* GetInstance();
        -: 1104:
        -: 1105:  // Runs all tests in this UnitTest object and prints the result.
        -: 1106:  // Returns 0 if successful, or 1 otherwise.
        -: 1107:  //
        -: 1108:  // This method can only be called from the main thread.
        -: 1109:  //
        -: 1110:  // INTERNAL IMPLEMENTATION - DO NOT USE IN A USER PROGRAM.
        -: 1111:  int Run() GTEST_MUST_USE_RESULT_;
        -: 1112:
        -: 1113:  // Returns the working directory when the first TEST() or TEST_F()
        -: 1114:  // was executed.  The UnitTest object owns the string.
        -: 1115:  const char* original_working_dir() const;
        -: 1116:
        -: 1117:  // Returns the TestCase object for the test that's currently running,
        -: 1118:  // or NULL if no test is running.
        -: 1119:  const TestCase* current_test_case() const;
        -: 1120:
        -: 1121:  // Returns the TestInfo object for the test that's currently running,
        -: 1122:  // or NULL if no test is running.
        -: 1123:  const TestInfo* current_test_info() const;
        -: 1124:
        -: 1125:  // Returns the random seed used at the start of the current test run.
        -: 1126:  int random_seed() const;
        -: 1127:
        -: 1128:#if GTEST_HAS_PARAM_TEST
        -: 1129:  // Returns the ParameterizedTestCaseRegistry object used to keep track of
        -: 1130:  // value-parameterized tests and instantiate and register them.
        -: 1131:  //
        -: 1132:  // INTERNAL IMPLEMENTATION - DO NOT USE IN A USER PROGRAM.
        -: 1133:  internal::ParameterizedTestCaseRegistry& parameterized_test_registry();
        -: 1134:#endif  // GTEST_HAS_PARAM_TEST
        -: 1135:
        -: 1136:  // Gets the number of successful test cases.
        -: 1137:  int successful_test_case_count() const;
        -: 1138:
        -: 1139:  // Gets the number of failed test cases.
        -: 1140:  int failed_test_case_count() const;
        -: 1141:
        -: 1142:  // Gets the number of all test cases.
        -: 1143:  int total_test_case_count() const;
        -: 1144:
        -: 1145:  // Gets the number of all test cases that contain at least one test
        -: 1146:  // that should run.
        -: 1147:  int test_case_to_run_count() const;
        -: 1148:
        -: 1149:  // Gets the number of successful tests.
        -: 1150:  int successful_test_count() const;
        -: 1151:
        -: 1152:  // Gets the number of failed tests.
        -: 1153:  int failed_test_count() const;
        -: 1154:
        -: 1155:  // Gets the number of disabled tests.
        -: 1156:  int disabled_test_count() const;
        -: 1157:
        -: 1158:  // Gets the number of all tests.
        -: 1159:  int total_test_count() const;
        -: 1160:
        -: 1161:  // Gets the number of tests that should run.
        -: 1162:  int test_to_run_count() const;
        -: 1163:
        -: 1164:  // Gets the elapsed time, in milliseconds.
        -: 1165:  TimeInMillis elapsed_time() const;
        -: 1166:
        -: 1167:  // Returns true iff the unit test passed (i.e. all test cases passed).
        -: 1168:  bool Passed() const;
        -: 1169:
        -: 1170:  // Returns true iff the unit test failed (i.e. some test case failed
        -: 1171:  // or something outside of all tests failed).
        -: 1172:  bool Failed() const;
        -: 1173:
        -: 1174:  // Gets the i-th test case among all the test cases. i can range from 0 to
        -: 1175:  // total_test_case_count() - 1. If i is not in that range, returns NULL.
        -: 1176:  const TestCase* GetTestCase(int i) const;
        -: 1177:
        -: 1178:  // Returns the list of event listeners that can be used to track events
        -: 1179:  // inside Google Test.
        -: 1180:  TestEventListeners& listeners();
        -: 1181:
        -: 1182: private:
        -: 1183:  // Registers and returns a global test environment.  When a test
        -: 1184:  // program is run, all global test environments will be set-up in
        -: 1185:  // the order they were registered.  After all tests in the program
        -: 1186:  // have finished, all global test environments will be torn-down in
        -: 1187:  // the *reverse* order they were registered.
        -: 1188:  //
        -: 1189:  // The UnitTest object takes ownership of the given environment.
        -: 1190:  //
        -: 1191:  // This method can only be called from the main thread.
        -: 1192:  Environment* AddEnvironment(Environment* env);
        -: 1193:
        -: 1194:  // Adds a TestPartResult to the current TestResult object.  All
        -: 1195:  // Google Test assertion macros (e.g. ASSERT_TRUE, EXPECT_EQ, etc)
        -: 1196:  // eventually call this to report their results.  The user code
        -: 1197:  // should use the assertion macros instead of calling this directly.
        -: 1198:  void AddTestPartResult(TestPartResult::Type result_type,
        -: 1199:                         const char* file_name,
        -: 1200:                         int line_number,
        -: 1201:                         const internal::String& message,
        -: 1202:                         const internal::String& os_stack_trace);
        -: 1203:
        -: 1204:  // Adds a TestProperty to the current TestResult object. If the result already
        -: 1205:  // contains a property with the same key, the value will be updated.
        -: 1206:  void RecordPropertyForCurrentTest(const char* key, const char* value);
        -: 1207:
        -: 1208:  // Gets the i-th test case among all the test cases. i can range from 0 to
        -: 1209:  // total_test_case_count() - 1. If i is not in that range, returns NULL.
        -: 1210:  TestCase* GetMutableTestCase(int i);
        -: 1211:
        -: 1212:  // Accessors for the implementation object.
        -: 1213:  internal::UnitTestImpl* impl() { return impl_; }
        -: 1214:  const internal::UnitTestImpl* impl() const { return impl_; }
        -: 1215:
        -: 1216:  // These classes and funcions are friends as they need to access private
        -: 1217:  // members of UnitTest.
        -: 1218:  friend class Test;
        -: 1219:  friend class internal::AssertHelper;
        -: 1220:  friend class internal::ScopedTrace;
        -: 1221:  friend Environment* AddGlobalTestEnvironment(Environment* env);
        -: 1222:  friend internal::UnitTestImpl* internal::GetUnitTestImpl();
        -: 1223:  friend void internal::ReportFailureInUnknownLocation(
        -: 1224:      TestPartResult::Type result_type,
        -: 1225:      const internal::String& message);
        -: 1226:
        -: 1227:  // Creates an empty UnitTest.
        -: 1228:  UnitTest();
        -: 1229:
        -: 1230:  // D'tor
        -: 1231:  virtual ~UnitTest();
        -: 1232:
        -: 1233:  // Pushes a trace defined by SCOPED_TRACE() on to the per-thread
        -: 1234:  // Google Test trace stack.
        -: 1235:  void PushGTestTrace(const internal::TraceInfo& trace);
        -: 1236:
        -: 1237:  // Pops a trace from the per-thread Google Test trace stack.
        -: 1238:  void PopGTestTrace();
        -: 1239:
        -: 1240:  // Protects mutable state in *impl_.  This is mutable as some const
        -: 1241:  // methods need to lock it too.
        -: 1242:  mutable internal::Mutex mutex_;
        -: 1243:
        -: 1244:  // Opaque implementation object.  This field is never changed once
        -: 1245:  // the object is constructed.  We don't mark it as const here, as
        -: 1246:  // doing so will cause a warning in the constructor of UnitTest.
        -: 1247:  // Mutable state in *impl_ is protected by mutex_.
        -: 1248:  internal::UnitTestImpl* impl_;
        -: 1249:
        -: 1250:  // We disallow copying UnitTest.
        -: 1251:  GTEST_DISALLOW_COPY_AND_ASSIGN_(UnitTest);
        -: 1252:};
        -: 1253:
        -: 1254:// A convenient wrapper for adding an environment for the test
        -: 1255:// program.
        -: 1256://
        -: 1257:// You should call this before RUN_ALL_TESTS() is called, probably in
        -: 1258:// main().  If you use gtest_main, you need to call this before main()
        -: 1259:// starts for it to take effect.  For example, you can define a global
        -: 1260:// variable like this:
        -: 1261://
        -: 1262://   testing::Environment* const foo_env =
        -: 1263://       testing::AddGlobalTestEnvironment(new FooEnvironment);
        -: 1264://
        -: 1265:// However, we strongly recommend you to write your own main() and
        -: 1266:// call AddGlobalTestEnvironment() there, as relying on initialization
        -: 1267:// of global variables makes the code harder to read and may cause
        -: 1268:// problems when you register multiple environments from different
        -: 1269:// translation units and the environments have dependencies among them
        -: 1270:// (remember that the compiler doesn't guarantee the order in which
        -: 1271:// global variables from different translation units are initialized).
        -: 1272:inline Environment* AddGlobalTestEnvironment(Environment* env) {
        -: 1273:  return UnitTest::GetInstance()->AddEnvironment(env);
        -: 1274:}
        -: 1275:
        -: 1276:// Initializes Google Test.  This must be called before calling
        -: 1277:// RUN_ALL_TESTS().  In particular, it parses a command line for the
        -: 1278:// flags that Google Test recognizes.  Whenever a Google Test flag is
        -: 1279:// seen, it is removed from argv, and *argc is decremented.
        -: 1280://
        -: 1281:// No value is returned.  Instead, the Google Test flag variables are
        -: 1282:// updated.
        -: 1283://
        -: 1284:// Calling the function for the second time has no user-visible effect.
        -: 1285:GTEST_API_ void InitGoogleTest(int* argc, char** argv);
        -: 1286:
        -: 1287:// This overloaded version can be used in Windows programs compiled in
        -: 1288:// UNICODE mode.
        -: 1289:GTEST_API_ void InitGoogleTest(int* argc, wchar_t** argv);
        -: 1290:
        -: 1291:namespace internal {
        -: 1292:
        -: 1293:// Formats a comparison assertion (e.g. ASSERT_EQ, EXPECT_LT, and etc)
        -: 1294:// operand to be used in a failure message.  The type (but not value)
        -: 1295:// of the other operand may affect the format.  This allows us to
        -: 1296:// print a char* as a raw pointer when it is compared against another
        -: 1297:// char*, and print it as a C string when it is compared against an
        -: 1298:// std::string object, for example.
        -: 1299://
        -: 1300:// The default implementation ignores the type of the other operand.
        -: 1301:// Some specialized versions are used to handle formatting wide or
        -: 1302:// narrow C strings.
        -: 1303://
        -: 1304:// INTERNAL IMPLEMENTATION - DO NOT USE IN A USER PROGRAM.
        -: 1305:template <typename T1, typename T2>
function _ZN7testing8internal33FormatForComparisonFailureMessageISsA65_cEENS0_6StringERKT_RKT0_ called 0 returned 0% blocks executed 0%
function _ZN7testing8internal33FormatForComparisonFailureMessageISsA64_cEENS0_6StringERKT_RKT0_ called 0 returned 0% blocks executed 0%
function _ZN7testing8internal33FormatForComparisonFailureMessageISsA54_cEENS0_6StringERKT_RKT0_ called 0 returned 0% blocks executed 0%
function _ZN7testing8internal33FormatForComparisonFailureMessageIP11FredkinCellP12AbstractCellEENS0_6StringERKT_RKT0_ called 0 returned 0% blocks executed 0%
function _ZN7testing8internal33FormatForComparisonFailureMessageIP12AbstractCellP11FredkinCellEENS0_6StringERKT_RKT0_ called 0 returned 0% blocks executed 0%
function _ZN7testing8internal33FormatForComparisonFailureMessageIP10ConwayCellP12AbstractCellEENS0_6StringERKT_RKT0_ called 0 returned 0% blocks executed 0%
function _ZN7testing8internal33FormatForComparisonFailureMessageIP12AbstractCellP10ConwayCellEENS0_6StringERKT_RKT0_ called 0 returned 0% blocks executed 0%
function _ZN7testing8internal33FormatForComparisonFailureMessageIccEENS0_6StringERKT_RKT0_ called 0 returned 0% blocks executed 0%
function _ZN7testing8internal33FormatForComparisonFailureMessageIP12AbstractCellS3_EENS0_6StringERKT_RKT0_ called 0 returned 0% blocks executed 0%
    #####: 1306:String FormatForComparisonFailureMessage(const T1& value,
        -: 1307:                                         const T2& /* other_operand */) {
        -: 1308:  // C++Builder compiles this incorrectly if the namespace isn't explicitly
        -: 1309:  // given.
    #####: 1310:  return ::testing::PrintToString(value);
call    0 never executed
call    1 never executed
branch  2 never executed
branch  3 never executed
call    4 never executed
call    5 never executed
call    6 never executed
call    7 never executed
branch  8 never executed
branch  9 never executed
call   10 never executed
call   11 never executed
call   12 never executed
call   13 never executed
branch 14 never executed
branch 15 never executed
call   16 never executed
call   17 never executed
call   18 never executed
call   19 never executed
branch 20 never executed
branch 21 never executed
call   22 never executed
call   23 never executed
call   24 never executed
call   25 never executed
branch 26 never executed
branch 27 never executed
call   28 never executed
call   29 never executed
call   30 never executed
call   31 never executed
branch 32 never executed
branch 33 never executed
call   34 never executed
call   35 never executed
call   36 never executed
call   37 never executed
branch 38 never executed
branch 39 never executed
call   40 never executed
call   41 never executed
call   42 never executed
call   43 never executed
branch 44 never executed
branch 45 never executed
call   46 never executed
call   47 never executed
call   48 never executed
call   49 never executed
branch 50 never executed
branch 51 never executed
call   52 never executed
call   53 never executed
        -: 1311:}
        -: 1312:
        -: 1313:// The helper function for {ASSERT|EXPECT}_EQ.
        -: 1314:template <typename T1, typename T2>
function _ZN7testing8internal11CmpHelperEQIA65_cSsEENS_15AssertionResultEPKcS5_RKT_RKT0_ called 3 returned 100% blocks executed 36%
function _ZN7testing8internal11CmpHelperEQIA64_cSsEENS_15AssertionResultEPKcS5_RKT_RKT0_ called 1 returned 100% blocks executed 36%
function _ZN7testing8internal11CmpHelperEQIA54_cSsEENS_15AssertionResultEPKcS5_RKT_RKT0_ called 3 returned 100% blocks executed 36%
function _ZN7testing8internal11CmpHelperEQIP12AbstractCellP11FredkinCellEENS_15AssertionResultEPKcS8_RKT_RKT0_ called 1 returned 100% blocks executed 31%
function _ZN7testing8internal11CmpHelperEQIP12AbstractCellP10ConwayCellEENS_15AssertionResultEPKcS8_RKT_RKT0_ called 1 returned 100% blocks executed 31%
function _ZN7testing8internal11CmpHelperEQIccEENS_15AssertionResultEPKcS4_RKT_RKT0_ called 49 returned 100% blocks executed 31%
       58: 1315:AssertionResult CmpHelperEQ(const char* expected_expression,
        -: 1316:                            const char* actual_expression,
        -: 1317:                            const T1& expected,
        -: 1318:                            const T2& actual) {
        -: 1319:#ifdef _MSC_VER
        -: 1320:# pragma warning(push)          // Saves the current warning state.
        -: 1321:# pragma warning(disable:4389)  // Temporarily disables warning on
        -: 1322:                               // signed/unsigned mismatch.
        -: 1323:#endif
        -: 1324:
       58: 1325:  if (expected == actual) {
call    0 returned 100%
branch  1 taken 100% (fallthrough)
branch  2 taken 0%
call    3 returned 100%
branch  4 taken 100% (fallthrough)
branch  5 taken 0%
call    6 returned 100%
branch  7 taken 100% (fallthrough)
branch  8 taken 0%
branch  9 taken 100% (fallthrough)
branch 10 taken 0%
branch 11 taken 100% (fallthrough)
branch 12 taken 0%
branch 13 taken 100% (fallthrough)
branch 14 taken 0%
       58: 1326:    return AssertionSuccess();
call    0 returned 100%
call    1 returned 100%
call    2 returned 100%
call    3 returned 100%
call    4 returned 100%
call    5 returned 100%
        -: 1327:  }
        -: 1328:
        -: 1329:#ifdef _MSC_VER
        -: 1330:# pragma warning(pop)          // Restores the warning state.
        -: 1331:#endif
        -: 1332:
        -: 1333:  return EqFailure(expected_expression,
        -: 1334:                   actual_expression,
        -: 1335:                   FormatForComparisonFailureMessage(expected, actual),
        -: 1336:                   FormatForComparisonFailureMessage(actual, expected),
    #####: 1337:                   false);
call    0 never executed
call    1 never executed
branch  2 never executed
branch  3 never executed
call    4 never executed
branch  5 never executed
branch  6 never executed
call    7 never executed
call    8 never executed
call    9 never executed
call   10 never executed
call   11 never executed
call   12 never executed
branch 13 never executed
branch 14 never executed
call   15 never executed
branch 16 never executed
branch 17 never executed
call   18 never executed
call   19 never executed
call   20 never executed
call   21 never executed
call   22 never executed
call   23 never executed
branch 24 never executed
branch 25 never executed
call   26 never executed
branch 27 never executed
branch 28 never executed
call   29 never executed
call   30 never executed
call   31 never executed
call   32 never executed
call   33 never executed
call   34 never executed
branch 35 never executed
branch 36 never executed
call   37 never executed
branch 38 never executed
branch 39 never executed
call   40 never executed
call   41 never executed
call   42 never executed
call   43 never executed
call   44 never executed
call   45 never executed
branch 46 never executed
branch 47 never executed
call   48 never executed
branch 49 never executed
branch 50 never executed
call   51 never executed
call   52 never executed
call   53 never executed
call   54 never executed
call   55 never executed
call   56 never executed
branch 57 never executed
branch 58 never executed
call   59 never executed
branch 60 never executed
branch 61 never executed
call   62 never executed
call   63 never executed
call   64 never executed
call   65 never executed
        -: 1338:}
        -: 1339:
        -: 1340:// With this overloaded version, we allow anonymous enums to be used
        -: 1341:// in {ASSERT|EXPECT}_EQ when compiled with gcc 4, as anonymous enums
        -: 1342:// can be implicitly cast to BiggestInt.
        -: 1343:GTEST_API_ AssertionResult CmpHelperEQ(const char* expected_expression,
        -: 1344:                                       const char* actual_expression,
        -: 1345:                                       BiggestInt expected,
        -: 1346:                                       BiggestInt actual);
        -: 1347:
        -: 1348:// The helper class for {ASSERT|EXPECT}_EQ.  The template argument
        -: 1349:// lhs_is_null_literal is true iff the first argument to ASSERT_EQ()
        -: 1350:// is a null pointer literal.  The following default implementation is
        -: 1351:// for lhs_is_null_literal being false.
        -: 1352:template <bool lhs_is_null_literal>
        -: 1353:class EqHelper {
        -: 1354: public:
        -: 1355:  // This templatized version is for the general case.
        -: 1356:  template <typename T1, typename T2>
function _ZN7testing8internal8EqHelperILb0EE7CompareIA65_cSsEENS_15AssertionResultEPKcS7_RKT_RKT0_ called 3 returned 100% blocks executed 100%
function _ZN7testing8internal8EqHelperILb0EE7CompareIA64_cSsEENS_15AssertionResultEPKcS7_RKT_RKT0_ called 1 returned 100% blocks executed 100%
function _ZN7testing8internal8EqHelperILb0EE7CompareIA54_cSsEENS_15AssertionResultEPKcS7_RKT_RKT0_ called 3 returned 100% blocks executed 100%
function _ZN7testing8internal8EqHelperILb0EE7CompareIP12AbstractCellP11FredkinCellEENS_15AssertionResultEPKcSA_RKT_RKT0_ called 1 returned 100% blocks executed 100%
function _ZN7testing8internal8EqHelperILb0EE7CompareIP12AbstractCellP10ConwayCellEENS_15AssertionResultEPKcSA_RKT_RKT0_ called 1 returned 100% blocks executed 100%
function _ZN7testing8internal8EqHelperILb0EE7CompareIccEENS_15AssertionResultEPKcS6_RKT_RKT0_ called 49 returned 100% blocks executed 100%
       58: 1357:  static AssertionResult Compare(const char* expected_expression,
        -: 1358:                                 const char* actual_expression,
        -: 1359:                                 const T1& expected,
        -: 1360:                                 const T2& actual) {
        -: 1361:    return CmpHelperEQ(expected_expression, actual_expression, expected,
       58: 1362:                       actual);
call    0 returned 100%
call    1 returned 100%
call    2 returned 100%
call    3 returned 100%
call    4 returned 100%
call    5 returned 100%
        -: 1363:  }
        -: 1364:
        -: 1365:  // With this overloaded version, we allow anonymous enums to be used
        -: 1366:  // in {ASSERT|EXPECT}_EQ when compiled with gcc 4, as anonymous
        -: 1367:  // enums can be implicitly cast to BiggestInt.
        -: 1368:  //
        -: 1369:  // Even though its body looks the same as the above version, we
        -: 1370:  // cannot merge the two, as it will make anonymous enums unhappy.
        -: 1371:  static AssertionResult Compare(const char* expected_expression,
        -: 1372:                                 const char* actual_expression,
        -: 1373:                                 BiggestInt expected,
        -: 1374:                                 BiggestInt actual) {
        -: 1375:    return CmpHelperEQ(expected_expression, actual_expression, expected,
        -: 1376:                       actual);
        -: 1377:  }
        -: 1378:};
        -: 1379:
        -: 1380:// This specialization is used when the first argument to ASSERT_EQ()
        -: 1381:// is a null pointer literal, like NULL, false, or 0.
        -: 1382:template <>
        -: 1383:class EqHelper<true> {
        -: 1384: public:
        -: 1385:  // We define two overloaded versions of Compare().  The first
        -: 1386:  // version will be picked when the second argument to ASSERT_EQ() is
        -: 1387:  // NOT a pointer, e.g. ASSERT_EQ(0, AnIntFunction()) or
        -: 1388:  // EXPECT_EQ(false, a_bool).
        -: 1389:  template <typename T1, typename T2>
        -: 1390:  static AssertionResult Compare(
        -: 1391:      const char* expected_expression,
        -: 1392:      const char* actual_expression,
        -: 1393:      const T1& expected,
        -: 1394:      const T2& actual,
        -: 1395:      // The following line prevents this overload from being considered if T2
        -: 1396:      // is not a pointer type.  We need this because ASSERT_EQ(NULL, my_ptr)
        -: 1397:      // expands to Compare("", "", NULL, my_ptr), which requires a conversion
        -: 1398:      // to match the Secret* in the other overload, which would otherwise make
        -: 1399:      // this template match better.
        -: 1400:      typename EnableIf<!is_pointer<T2>::value>::type* = 0) {
        -: 1401:    return CmpHelperEQ(expected_expression, actual_expression, expected,
        -: 1402:                       actual);
        -: 1403:  }
        -: 1404:
        -: 1405:  // This version will be picked when the second argument to ASSERT_EQ() is a
        -: 1406:  // pointer, e.g. ASSERT_EQ(NULL, a_pointer).
        -: 1407:  template <typename T>
        -: 1408:  static AssertionResult Compare(
        -: 1409:      const char* expected_expression,
        -: 1410:      const char* actual_expression,
        -: 1411:      // We used to have a second template parameter instead of Secret*.  That
        -: 1412:      // template parameter would deduce to 'long', making this a better match
        -: 1413:      // than the first overload even without the first overload's EnableIf.
        -: 1414:      // Unfortunately, gcc with -Wconversion-null warns when "passing NULL to
        -: 1415:      // non-pointer argument" (even a deduced integral argument), so the old
        -: 1416:      // implementation caused warnings in user code.
        -: 1417:      Secret* /* expected (NULL) */,
        -: 1418:      T* actual) {
        -: 1419:    // We already know that 'expected' is a null pointer.
        -: 1420:    return CmpHelperEQ(expected_expression, actual_expression,
        -: 1421:                       static_cast<T*>(NULL), actual);
        -: 1422:  }
        -: 1423:};
        -: 1424:
        -: 1425:// A macro for implementing the helper functions needed to implement
        -: 1426:// ASSERT_?? and EXPECT_??.  It is here just to avoid copy-and-paste
        -: 1427:// of similar code.
        -: 1428://
        -: 1429:// For each templatized helper function, we also define an overloaded
        -: 1430:// version for BiggestInt in order to reduce code bloat and allow
        -: 1431:// anonymous enums to be used with {ASSERT|EXPECT}_?? when compiled
        -: 1432:// with gcc 4.
        -: 1433://
        -: 1434:// INTERNAL IMPLEMENTATION - DO NOT USE IN A USER PROGRAM.
        -: 1435:#define GTEST_IMPL_CMP_HELPER_(op_name, op)\
        -: 1436:template <typename T1, typename T2>\
        -: 1437:AssertionResult CmpHelper##op_name(const char* expr1, const char* expr2, \
        -: 1438:                                   const T1& val1, const T2& val2) {\
        -: 1439:  if (val1 op val2) {\
        -: 1440:    return AssertionSuccess();\
        -: 1441:  } else {\
        -: 1442:    return AssertionFailure() \
        -: 1443:        << "Expected: (" << expr1 << ") " #op " (" << expr2\
        -: 1444:        << "), actual: " << FormatForComparisonFailureMessage(val1, val2)\
        -: 1445:        << " vs " << FormatForComparisonFailureMessage(val2, val1);\
        -: 1446:  }\
        -: 1447:}\
        -: 1448:GTEST_API_ AssertionResult CmpHelper##op_name(\
        -: 1449:    const char* expr1, const char* expr2, BiggestInt val1, BiggestInt val2)
        -: 1450:
        -: 1451:// INTERNAL IMPLEMENTATION - DO NOT USE IN A USER PROGRAM.
        -: 1452:
        -: 1453:// Implements the helper function for {ASSERT|EXPECT}_NE
function _ZN7testing8internal11CmpHelperNEIP12AbstractCellS3_EENS_15AssertionResultEPKcS6_RKT_RKT0_ called 5 returned 100% blocks executed 15%
        5: 1454:GTEST_IMPL_CMP_HELPER_(NE, !=);
branch  0 taken 100% (fallthrough)
branch  1 taken 0%
call    2 returned 100%
call    3 never executed
call    4 never executed
branch  5 never executed
branch  6 never executed
call    7 never executed
branch  8 never executed
branch  9 never executed
call   10 never executed
branch 11 never executed
branch 12 never executed
call   13 never executed
branch 14 never executed
branch 15 never executed
call   16 never executed
branch 17 never executed
branch 18 never executed
call   19 never executed
branch 20 never executed
branch 21 never executed
call   22 never executed
branch 23 never executed
branch 24 never executed
call   25 never executed
branch 26 never executed
branch 27 never executed
call   28 never executed
branch 29 never executed
branch 30 never executed
call   31 never executed
branch 32 never executed
branch 33 never executed
call   34 never executed
branch 35 never executed
branch 36 never executed
call   37 never executed
call   38 never executed
call   39 never executed
call   40 never executed
call   41 never executed
call   42 never executed
        -: 1455:// Implements the helper function for {ASSERT|EXPECT}_LE
        -: 1456:GTEST_IMPL_CMP_HELPER_(LE, <=);
        -: 1457:// Implements the helper function for {ASSERT|EXPECT}_LT
        -: 1458:GTEST_IMPL_CMP_HELPER_(LT, < );
        -: 1459:// Implements the helper function for {ASSERT|EXPECT}_GE
        -: 1460:GTEST_IMPL_CMP_HELPER_(GE, >=);
        -: 1461:// Implements the helper function for {ASSERT|EXPECT}_GT
        -: 1462:GTEST_IMPL_CMP_HELPER_(GT, > );
        -: 1463:
        -: 1464:#undef GTEST_IMPL_CMP_HELPER_
        -: 1465:
        -: 1466:// The helper function for {ASSERT|EXPECT}_STREQ.
        -: 1467://
        -: 1468:// INTERNAL IMPLEMENTATION - DO NOT USE IN A USER PROGRAM.
        -: 1469:GTEST_API_ AssertionResult CmpHelperSTREQ(const char* expected_expression,
        -: 1470:                                          const char* actual_expression,
        -: 1471:                                          const char* expected,
        -: 1472:                                          const char* actual);
        -: 1473:
        -: 1474:// The helper function for {ASSERT|EXPECT}_STRCASEEQ.
        -: 1475://
        -: 1476:// INTERNAL IMPLEMENTATION - DO NOT USE IN A USER PROGRAM.
        -: 1477:GTEST_API_ AssertionResult CmpHelperSTRCASEEQ(const char* expected_expression,
        -: 1478:                                              const char* actual_expression,
        -: 1479:                                              const char* expected,
        -: 1480:                                              const char* actual);
        -: 1481:
        -: 1482:// The helper function for {ASSERT|EXPECT}_STRNE.
        -: 1483://
        -: 1484:// INTERNAL IMPLEMENTATION - DO NOT USE IN A USER PROGRAM.
        -: 1485:GTEST_API_ AssertionResult CmpHelperSTRNE(const char* s1_expression,
        -: 1486:                                          const char* s2_expression,
        -: 1487:                                          const char* s1,
        -: 1488:                                          const char* s2);
        -: 1489:
        -: 1490:// The helper function for {ASSERT|EXPECT}_STRCASENE.
        -: 1491://
        -: 1492:// INTERNAL IMPLEMENTATION - DO NOT USE IN A USER PROGRAM.
        -: 1493:GTEST_API_ AssertionResult CmpHelperSTRCASENE(const char* s1_expression,
        -: 1494:                                              const char* s2_expression,
        -: 1495:                                              const char* s1,
        -: 1496:                                              const char* s2);
        -: 1497:
        -: 1498:
        -: 1499:// Helper function for *_STREQ on wide strings.
        -: 1500://
        -: 1501:// INTERNAL IMPLEMENTATION - DO NOT USE IN A USER PROGRAM.
        -: 1502:GTEST_API_ AssertionResult CmpHelperSTREQ(const char* expected_expression,
        -: 1503:                                          const char* actual_expression,
        -: 1504:                                          const wchar_t* expected,
        -: 1505:                                          const wchar_t* actual);
        -: 1506:
        -: 1507:// Helper function for *_STRNE on wide strings.
        -: 1508://
        -: 1509:// INTERNAL IMPLEMENTATION - DO NOT USE IN A USER PROGRAM.
        -: 1510:GTEST_API_ AssertionResult CmpHelperSTRNE(const char* s1_expression,
        -: 1511:                                          const char* s2_expression,
        -: 1512:                                          const wchar_t* s1,
        -: 1513:                                          const wchar_t* s2);
        -: 1514:
        -: 1515:}  // namespace internal
        -: 1516:
        -: 1517:// IsSubstring() and IsNotSubstring() are intended to be used as the
        -: 1518:// first argument to {EXPECT,ASSERT}_PRED_FORMAT2(), not by
        -: 1519:// themselves.  They check whether needle is a substring of haystack
        -: 1520:// (NULL is considered a substring of itself only), and return an
        -: 1521:// appropriate error message when they fail.
        -: 1522://
        -: 1523:// The {needle,haystack}_expr arguments are the stringified
        -: 1524:// expressions that generated the two real arguments.
        -: 1525:GTEST_API_ AssertionResult IsSubstring(
        -: 1526:    const char* needle_expr, const char* haystack_expr,
        -: 1527:    const char* needle, const char* haystack);
        -: 1528:GTEST_API_ AssertionResult IsSubstring(
        -: 1529:    const char* needle_expr, const char* haystack_expr,
        -: 1530:    const wchar_t* needle, const wchar_t* haystack);
        -: 1531:GTEST_API_ AssertionResult IsNotSubstring(
        -: 1532:    const char* needle_expr, const char* haystack_expr,
        -: 1533:    const char* needle, const char* haystack);
        -: 1534:GTEST_API_ AssertionResult IsNotSubstring(
        -: 1535:    const char* needle_expr, const char* haystack_expr,
        -: 1536:    const wchar_t* needle, const wchar_t* haystack);
        -: 1537:GTEST_API_ AssertionResult IsSubstring(
        -: 1538:    const char* needle_expr, const char* haystack_expr,
        -: 1539:    const ::std::string& needle, const ::std::string& haystack);
        -: 1540:GTEST_API_ AssertionResult IsNotSubstring(
        -: 1541:    const char* needle_expr, const char* haystack_expr,
        -: 1542:    const ::std::string& needle, const ::std::string& haystack);
        -: 1543:
        -: 1544:#if GTEST_HAS_STD_WSTRING
        -: 1545:GTEST_API_ AssertionResult IsSubstring(
        -: 1546:    const char* needle_expr, const char* haystack_expr,
        -: 1547:    const ::std::wstring& needle, const ::std::wstring& haystack);
        -: 1548:GTEST_API_ AssertionResult IsNotSubstring(
        -: 1549:    const char* needle_expr, const char* haystack_expr,
        -: 1550:    const ::std::wstring& needle, const ::std::wstring& haystack);
        -: 1551:#endif  // GTEST_HAS_STD_WSTRING
        -: 1552:
        -: 1553:namespace internal {
        -: 1554:
        -: 1555:// Helper template function for comparing floating-points.
        -: 1556://
        -: 1557:// Template parameter:
        -: 1558://
        -: 1559://   RawType: the raw floating-point type (either float or double)
        -: 1560://
        -: 1561:// INTERNAL IMPLEMENTATION - DO NOT USE IN A USER PROGRAM.
        -: 1562:template <typename RawType>
        -: 1563:AssertionResult CmpHelperFloatingPointEQ(const char* expected_expression,
        -: 1564:                                         const char* actual_expression,
        -: 1565:                                         RawType expected,
        -: 1566:                                         RawType actual) {
        -: 1567:  const FloatingPoint<RawType> lhs(expected), rhs(actual);
        -: 1568:
        -: 1569:  if (lhs.AlmostEquals(rhs)) {
        -: 1570:    return AssertionSuccess();
        -: 1571:  }
        -: 1572:
        -: 1573:  ::std::stringstream expected_ss;
        -: 1574:  expected_ss << std::setprecision(std::numeric_limits<RawType>::digits10 + 2)
        -: 1575:              << expected;
        -: 1576:
        -: 1577:  ::std::stringstream actual_ss;
        -: 1578:  actual_ss << std::setprecision(std::numeric_limits<RawType>::digits10 + 2)
        -: 1579:            << actual;
        -: 1580:
        -: 1581:  return EqFailure(expected_expression,
        -: 1582:                   actual_expression,
        -: 1583:                   StringStreamToString(&expected_ss),
        -: 1584:                   StringStreamToString(&actual_ss),
        -: 1585:                   false);
        -: 1586:}
        -: 1587:
        -: 1588:// Helper function for implementing ASSERT_NEAR.
        -: 1589://
        -: 1590:// INTERNAL IMPLEMENTATION - DO NOT USE IN A USER PROGRAM.
        -: 1591:GTEST_API_ AssertionResult DoubleNearPredFormat(const char* expr1,
        -: 1592:                                                const char* expr2,
        -: 1593:                                                const char* abs_error_expr,
        -: 1594:                                                double val1,
        -: 1595:                                                double val2,
        -: 1596:                                                double abs_error);
        -: 1597:
        -: 1598:// INTERNAL IMPLEMENTATION - DO NOT USE IN USER CODE.
        -: 1599:// A class that enables one to stream messages to assertion macros
        -: 1600:class GTEST_API_ AssertHelper {
        -: 1601: public:
        -: 1602:  // Constructor.
        -: 1603:  AssertHelper(TestPartResult::Type type,
        -: 1604:               const char* file,
        -: 1605:               int line,
        -: 1606:               const char* message);
        -: 1607:  ~AssertHelper();
        -: 1608:
        -: 1609:  // Message assignment is a semantic trick to enable assertion
        -: 1610:  // streaming; see the GTEST_MESSAGE_ macro below.
        -: 1611:  void operator=(const Message& message) const;
        -: 1612:
        -: 1613: private:
        -: 1614:  // We put our data in a struct so that the size of the AssertHelper class can
        -: 1615:  // be as small as possible.  This is important because gcc is incapable of
        -: 1616:  // re-using stack space even for temporary variables, so every EXPECT_EQ
        -: 1617:  // reserves stack space for another AssertHelper.
        -: 1618:  struct AssertHelperData {
        -: 1619:    AssertHelperData(TestPartResult::Type t,
        -: 1620:                     const char* srcfile,
        -: 1621:                     int line_num,
        -: 1622:                     const char* msg)
        -: 1623:        : type(t), file(srcfile), line(line_num), message(msg) { }
        -: 1624:
        -: 1625:    TestPartResult::Type const type;
        -: 1626:    const char*        const file;
        -: 1627:    int                const line;
        -: 1628:    String             const message;
        -: 1629:
        -: 1630:   private:
        -: 1631:    GTEST_DISALLOW_COPY_AND_ASSIGN_(AssertHelperData);
        -: 1632:  };
        -: 1633:
        -: 1634:  AssertHelperData* const data_;
        -: 1635:
        -: 1636:  GTEST_DISALLOW_COPY_AND_ASSIGN_(AssertHelper);
        -: 1637:};
        -: 1638:
        -: 1639:}  // namespace internal
        -: 1640:
        -: 1641:#if GTEST_HAS_PARAM_TEST
        -: 1642:// The pure interface class that all value-parameterized tests inherit from.
        -: 1643:// A value-parameterized class must inherit from both ::testing::Test and
        -: 1644:// ::testing::WithParamInterface. In most cases that just means inheriting
        -: 1645:// from ::testing::TestWithParam, but more complicated test hierarchies
        -: 1646:// may need to inherit from Test and WithParamInterface at different levels.
        -: 1647://
        -: 1648:// This interface has support for accessing the test parameter value via
        -: 1649:// the GetParam() method.
        -: 1650://
        -: 1651:// Use it with one of the parameter generator defining functions, like Range(),
        -: 1652:// Values(), ValuesIn(), Bool(), and Combine().
        -: 1653://
        -: 1654:// class FooTest : public ::testing::TestWithParam<int> {
        -: 1655://  protected:
        -: 1656://   FooTest() {
        -: 1657://     // Can use GetParam() here.
        -: 1658://   }
        -: 1659://   virtual ~FooTest() {
        -: 1660://     // Can use GetParam() here.
        -: 1661://   }
        -: 1662://   virtual void SetUp() {
        -: 1663://     // Can use GetParam() here.
        -: 1664://   }
        -: 1665://   virtual void TearDown {
        -: 1666://     // Can use GetParam() here.
        -: 1667://   }
        -: 1668:// };
        -: 1669:// TEST_P(FooTest, DoesBar) {
        -: 1670://   // Can use GetParam() method here.
        -: 1671://   Foo foo;
        -: 1672://   ASSERT_TRUE(foo.DoesBar(GetParam()));
        -: 1673:// }
        -: 1674:// INSTANTIATE_TEST_CASE_P(OneToTenRange, FooTest, ::testing::Range(1, 10));
        -: 1675:
        -: 1676:template <typename T>
        -: 1677:class WithParamInterface {
        -: 1678: public:
        -: 1679:  typedef T ParamType;
        -: 1680:  virtual ~WithParamInterface() {}
        -: 1681:
        -: 1682:  // The current parameter value. Is also available in the test fixture's
        -: 1683:  // constructor. This member function is non-static, even though it only
        -: 1684:  // references static data, to reduce the opportunity for incorrect uses
        -: 1685:  // like writing 'WithParamInterface<bool>::GetParam()' for a test that
        -: 1686:  // uses a fixture whose parameter type is int.
        -: 1687:  const ParamType& GetParam() const { return *parameter_; }
        -: 1688:
        -: 1689: private:
        -: 1690:  // Sets parameter value. The caller is responsible for making sure the value
        -: 1691:  // remains alive and unchanged throughout the current test.
        -: 1692:  static void SetParam(const ParamType* parameter) {
        -: 1693:    parameter_ = parameter;
        -: 1694:  }
        -: 1695:
        -: 1696:  // Static value used for accessing parameter during a test lifetime.
        -: 1697:  static const ParamType* parameter_;
        -: 1698:
        -: 1699:  // TestClass must be a subclass of WithParamInterface<T> and Test.
        -: 1700:  template <class TestClass> friend class internal::ParameterizedTestFactory;
        -: 1701:};
        -: 1702:
        -: 1703:template <typename T>
        -: 1704:const T* WithParamInterface<T>::parameter_ = NULL;
        -: 1705:
        -: 1706:// Most value-parameterized classes can ignore the existence of
        -: 1707:// WithParamInterface, and can just inherit from ::testing::TestWithParam.
        -: 1708:
        -: 1709:template <typename T>
        -: 1710:class TestWithParam : public Test, public WithParamInterface<T> {
        -: 1711:};
        -: 1712:
        -: 1713:#endif  // GTEST_HAS_PARAM_TEST
        -: 1714:
        -: 1715:// Macros for indicating success/failure in test code.
        -: 1716:
        -: 1717:// ADD_FAILURE unconditionally adds a failure to the current test.
        -: 1718:// SUCCEED generates a success - it doesn't automatically make the
        -: 1719:// current test successful, as a test is only successful when it has
        -: 1720:// no failure.
        -: 1721://
        -: 1722:// EXPECT_* verifies that a certain condition is satisfied.  If not,
        -: 1723:// it behaves like ADD_FAILURE.  In particular:
        -: 1724://
        -: 1725://   EXPECT_TRUE  verifies that a Boolean condition is true.
        -: 1726://   EXPECT_FALSE verifies that a Boolean condition is false.
        -: 1727://
        -: 1728:// FAIL and ASSERT_* are similar to ADD_FAILURE and EXPECT_*, except
        -: 1729:// that they will also abort the current function on failure.  People
        -: 1730:// usually want the fail-fast behavior of FAIL and ASSERT_*, but those
        -: 1731:// writing data-driven tests often find themselves using ADD_FAILURE
        -: 1732:// and EXPECT_* more.
        -: 1733://
        -: 1734:// Examples:
        -: 1735://
        -: 1736://   EXPECT_TRUE(server.StatusIsOK());
        -: 1737://   ASSERT_FALSE(server.HasPendingRequest(port))
        -: 1738://       << "There are still pending requests " << "on port " << port;
        -: 1739:
        -: 1740:// Generates a nonfatal failure with a generic message.
        -: 1741:#define ADD_FAILURE() GTEST_NONFATAL_FAILURE_("Failed")
        -: 1742:
        -: 1743:// Generates a nonfatal failure at the given source file location with
        -: 1744:// a generic message.
        -: 1745:#define ADD_FAILURE_AT(file, line) \
        -: 1746:  GTEST_MESSAGE_AT_(file, line, "Failed", \
        -: 1747:                    ::testing::TestPartResult::kNonFatalFailure)
        -: 1748:
        -: 1749:// Generates a fatal failure with a generic message.
        -: 1750:#define GTEST_FAIL() GTEST_FATAL_FAILURE_("Failed")
        -: 1751:
        -: 1752:// Define this macro to 1 to omit the definition of FAIL(), which is a
        -: 1753:// generic name and clashes with some other libraries.
        -: 1754:#if !GTEST_DONT_DEFINE_FAIL
        -: 1755:# define FAIL() GTEST_FAIL()
        -: 1756:#endif
        -: 1757:
        -: 1758:// Generates a success with a generic message.
        -: 1759:#define GTEST_SUCCEED() GTEST_SUCCESS_("Succeeded")
        -: 1760:
        -: 1761:// Define this macro to 1 to omit the definition of SUCCEED(), which
        -: 1762:// is a generic name and clashes with some other libraries.
        -: 1763:#if !GTEST_DONT_DEFINE_SUCCEED
        -: 1764:# define SUCCEED() GTEST_SUCCEED()
        -: 1765:#endif
        -: 1766:
        -: 1767:// Macros for testing exceptions.
        -: 1768://
        -: 1769://    * {ASSERT|EXPECT}_THROW(statement, expected_exception):
        -: 1770://         Tests that the statement throws the expected exception.
        -: 1771://    * {ASSERT|EXPECT}_NO_THROW(statement):
        -: 1772://         Tests that the statement doesn't throw any exception.
        -: 1773://    * {ASSERT|EXPECT}_ANY_THROW(statement):
        -: 1774://         Tests that the statement throws an exception.
        -: 1775:
        -: 1776:#define EXPECT_THROW(statement, expected_exception) \
        -: 1777:  GTEST_TEST_THROW_(statement, expected_exception, GTEST_NONFATAL_FAILURE_)
        -: 1778:#define EXPECT_NO_THROW(statement) \
        -: 1779:  GTEST_TEST_NO_THROW_(statement, GTEST_NONFATAL_FAILURE_)
        -: 1780:#define EXPECT_ANY_THROW(statement) \
        -: 1781:  GTEST_TEST_ANY_THROW_(statement, GTEST_NONFATAL_FAILURE_)
        -: 1782:#define ASSERT_THROW(statement, expected_exception) \
        -: 1783:  GTEST_TEST_THROW_(statement, expected_exception, GTEST_FATAL_FAILURE_)
        -: 1784:#define ASSERT_NO_THROW(statement) \
        -: 1785:  GTEST_TEST_NO_THROW_(statement, GTEST_FATAL_FAILURE_)
        -: 1786:#define ASSERT_ANY_THROW(statement) \
        -: 1787:  GTEST_TEST_ANY_THROW_(statement, GTEST_FATAL_FAILURE_)
        -: 1788:
        -: 1789:// Boolean assertions. Condition can be either a Boolean expression or an
        -: 1790:// AssertionResult. For more information on how to use AssertionResult with
        -: 1791:// these macros see comments on that class.
        -: 1792:#define EXPECT_TRUE(condition) \
        -: 1793:  GTEST_TEST_BOOLEAN_(condition, #condition, false, true, \
        -: 1794:                      GTEST_NONFATAL_FAILURE_)
        -: 1795:#define EXPECT_FALSE(condition) \
        -: 1796:  GTEST_TEST_BOOLEAN_(!(condition), #condition, true, false, \
        -: 1797:                      GTEST_NONFATAL_FAILURE_)
        -: 1798:#define ASSERT_TRUE(condition) \
        -: 1799:  GTEST_TEST_BOOLEAN_(condition, #condition, false, true, \
        -: 1800:                      GTEST_FATAL_FAILURE_)
        -: 1801:#define ASSERT_FALSE(condition) \
        -: 1802:  GTEST_TEST_BOOLEAN_(!(condition), #condition, true, false, \
        -: 1803:                      GTEST_FATAL_FAILURE_)
        -: 1804:
        -: 1805:// Includes the auto-generated header that implements a family of
        -: 1806:// generic predicate assertion macros.
        -: 1807:#include "gtest/gtest_pred_impl.h"
        -: 1808:
        -: 1809:// Macros for testing equalities and inequalities.
        -: 1810://
        -: 1811://    * {ASSERT|EXPECT}_EQ(expected, actual): Tests that expected == actual
        -: 1812://    * {ASSERT|EXPECT}_NE(v1, v2):           Tests that v1 != v2
        -: 1813://    * {ASSERT|EXPECT}_LT(v1, v2):           Tests that v1 < v2
        -: 1814://    * {ASSERT|EXPECT}_LE(v1, v2):           Tests that v1 <= v2
        -: 1815://    * {ASSERT|EXPECT}_GT(v1, v2):           Tests that v1 > v2
        -: 1816://    * {ASSERT|EXPECT}_GE(v1, v2):           Tests that v1 >= v2
        -: 1817://
        -: 1818:// When they are not, Google Test prints both the tested expressions and
        -: 1819:// their actual values.  The values must be compatible built-in types,
        -: 1820:// or you will get a compiler error.  By "compatible" we mean that the
        -: 1821:// values can be compared by the respective operator.
        -: 1822://
        -: 1823:// Note:
        -: 1824://
        -: 1825://   1. It is possible to make a user-defined type work with
        -: 1826://   {ASSERT|EXPECT}_??(), but that requires overloading the
        -: 1827://   comparison operators and is thus discouraged by the Google C++
        -: 1828://   Usage Guide.  Therefore, you are advised to use the
        -: 1829://   {ASSERT|EXPECT}_TRUE() macro to assert that two objects are
        -: 1830://   equal.
        -: 1831://
        -: 1832://   2. The {ASSERT|EXPECT}_??() macros do pointer comparisons on
        -: 1833://   pointers (in particular, C strings).  Therefore, if you use it
        -: 1834://   with two C strings, you are testing how their locations in memory
        -: 1835://   are related, not how their content is related.  To compare two C
        -: 1836://   strings by content, use {ASSERT|EXPECT}_STR*().
        -: 1837://
        -: 1838://   3. {ASSERT|EXPECT}_EQ(expected, actual) is preferred to
        -: 1839://   {ASSERT|EXPECT}_TRUE(expected == actual), as the former tells you
        -: 1840://   what the actual value is when it fails, and similarly for the
        -: 1841://   other comparisons.
        -: 1842://
        -: 1843://   4. Do not depend on the order in which {ASSERT|EXPECT}_??()
        -: 1844://   evaluate their arguments, which is undefined.
        -: 1845://
        -: 1846://   5. These macros evaluate their arguments exactly once.
        -: 1847://
        -: 1848:// Examples:
        -: 1849://
        -: 1850://   EXPECT_NE(5, Foo());
        -: 1851://   EXPECT_EQ(NULL, a_pointer);
        -: 1852://   ASSERT_LT(i, array_size);
        -: 1853://   ASSERT_GT(records.size(), 0) << "There is no record left.";
        -: 1854:
        -: 1855:#define EXPECT_EQ(expected, actual) \
        -: 1856:  EXPECT_PRED_FORMAT2(::testing::internal:: \
        -: 1857:                      EqHelper<GTEST_IS_NULL_LITERAL_(expected)>::Compare, \
        -: 1858:                      expected, actual)
        -: 1859:#define EXPECT_NE(expected, actual) \
        -: 1860:  EXPECT_PRED_FORMAT2(::testing::internal::CmpHelperNE, expected, actual)
        -: 1861:#define EXPECT_LE(val1, val2) \
        -: 1862:  EXPECT_PRED_FORMAT2(::testing::internal::CmpHelperLE, val1, val2)
        -: 1863:#define EXPECT_LT(val1, val2) \
        -: 1864:  EXPECT_PRED_FORMAT2(::testing::internal::CmpHelperLT, val1, val2)
        -: 1865:#define EXPECT_GE(val1, val2) \
        -: 1866:  EXPECT_PRED_FORMAT2(::testing::internal::CmpHelperGE, val1, val2)
        -: 1867:#define EXPECT_GT(val1, val2) \
        -: 1868:  EXPECT_PRED_FORMAT2(::testing::internal::CmpHelperGT, val1, val2)
        -: 1869:
        -: 1870:#define GTEST_ASSERT_EQ(expected, actual) \
        -: 1871:  ASSERT_PRED_FORMAT2(::testing::internal:: \
        -: 1872:                      EqHelper<GTEST_IS_NULL_LITERAL_(expected)>::Compare, \
        -: 1873:                      expected, actual)
        -: 1874:#define GTEST_ASSERT_NE(val1, val2) \
        -: 1875:  ASSERT_PRED_FORMAT2(::testing::internal::CmpHelperNE, val1, val2)
        -: 1876:#define GTEST_ASSERT_LE(val1, val2) \
        -: 1877:  ASSERT_PRED_FORMAT2(::testing::internal::CmpHelperLE, val1, val2)
        -: 1878:#define GTEST_ASSERT_LT(val1, val2) \
        -: 1879:  ASSERT_PRED_FORMAT2(::testing::internal::CmpHelperLT, val1, val2)
        -: 1880:#define GTEST_ASSERT_GE(val1, val2) \
        -: 1881:  ASSERT_PRED_FORMAT2(::testing::internal::CmpHelperGE, val1, val2)
        -: 1882:#define GTEST_ASSERT_GT(val1, val2) \
        -: 1883:  ASSERT_PRED_FORMAT2(::testing::internal::CmpHelperGT, val1, val2)
        -: 1884:
        -: 1885:// Define macro GTEST_DONT_DEFINE_ASSERT_XY to 1 to omit the definition of
        -: 1886:// ASSERT_XY(), which clashes with some users' own code.
        -: 1887:
        -: 1888:#if !GTEST_DONT_DEFINE_ASSERT_EQ
        -: 1889:# define ASSERT_EQ(val1, val2) GTEST_ASSERT_EQ(val1, val2)
        -: 1890:#endif
        -: 1891:
        -: 1892:#if !GTEST_DONT_DEFINE_ASSERT_NE
        -: 1893:# define ASSERT_NE(val1, val2) GTEST_ASSERT_NE(val1, val2)
        -: 1894:#endif
        -: 1895:
        -: 1896:#if !GTEST_DONT_DEFINE_ASSERT_LE
        -: 1897:# define ASSERT_LE(val1, val2) GTEST_ASSERT_LE(val1, val2)
        -: 1898:#endif
        -: 1899:
        -: 1900:#if !GTEST_DONT_DEFINE_ASSERT_LT
        -: 1901:# define ASSERT_LT(val1, val2) GTEST_ASSERT_LT(val1, val2)
        -: 1902:#endif
        -: 1903:
        -: 1904:#if !GTEST_DONT_DEFINE_ASSERT_GE
        -: 1905:# define ASSERT_GE(val1, val2) GTEST_ASSERT_GE(val1, val2)
        -: 1906:#endif
        -: 1907:
        -: 1908:#if !GTEST_DONT_DEFINE_ASSERT_GT
        -: 1909:# define ASSERT_GT(val1, val2) GTEST_ASSERT_GT(val1, val2)
        -: 1910:#endif
        -: 1911:
        -: 1912:// C String Comparisons.  All tests treat NULL and any non-NULL string
        -: 1913:// as different.  Two NULLs are equal.
        -: 1914://
        -: 1915://    * {ASSERT|EXPECT}_STREQ(s1, s2):     Tests that s1 == s2
        -: 1916://    * {ASSERT|EXPECT}_STRNE(s1, s2):     Tests that s1 != s2
        -: 1917://    * {ASSERT|EXPECT}_STRCASEEQ(s1, s2): Tests that s1 == s2, ignoring case
        -: 1918://    * {ASSERT|EXPECT}_STRCASENE(s1, s2): Tests that s1 != s2, ignoring case
        -: 1919://
        -: 1920:// For wide or narrow string objects, you can use the
        -: 1921:// {ASSERT|EXPECT}_??() macros.
        -: 1922://
        -: 1923:// Don't depend on the order in which the arguments are evaluated,
        -: 1924:// which is undefined.
        -: 1925://
        -: 1926:// These macros evaluate their arguments exactly once.
        -: 1927:
        -: 1928:#define EXPECT_STREQ(expected, actual) \
        -: 1929:  EXPECT_PRED_FORMAT2(::testing::internal::CmpHelperSTREQ, expected, actual)
        -: 1930:#define EXPECT_STRNE(s1, s2) \
        -: 1931:  EXPECT_PRED_FORMAT2(::testing::internal::CmpHelperSTRNE, s1, s2)
        -: 1932:#define EXPECT_STRCASEEQ(expected, actual) \
        -: 1933:  EXPECT_PRED_FORMAT2(::testing::internal::CmpHelperSTRCASEEQ, expected, actual)
        -: 1934:#define EXPECT_STRCASENE(s1, s2)\
        -: 1935:  EXPECT_PRED_FORMAT2(::testing::internal::CmpHelperSTRCASENE, s1, s2)
        -: 1936:
        -: 1937:#define ASSERT_STREQ(expected, actual) \
        -: 1938:  ASSERT_PRED_FORMAT2(::testing::internal::CmpHelperSTREQ, expected, actual)
        -: 1939:#define ASSERT_STRNE(s1, s2) \
        -: 1940:  ASSERT_PRED_FORMAT2(::testing::internal::CmpHelperSTRNE, s1, s2)
        -: 1941:#define ASSERT_STRCASEEQ(expected, actual) \
        -: 1942:  ASSERT_PRED_FORMAT2(::testing::internal::CmpHelperSTRCASEEQ, expected, actual)
        -: 1943:#define ASSERT_STRCASENE(s1, s2)\
        -: 1944:  ASSERT_PRED_FORMAT2(::testing::internal::CmpHelperSTRCASENE, s1, s2)
        -: 1945:
        -: 1946:// Macros for comparing floating-point numbers.
        -: 1947://
        -: 1948://    * {ASSERT|EXPECT}_FLOAT_EQ(expected, actual):
        -: 1949://         Tests that two float values are almost equal.
        -: 1950://    * {ASSERT|EXPECT}_DOUBLE_EQ(expected, actual):
        -: 1951://         Tests that two double values are almost equal.
        -: 1952://    * {ASSERT|EXPECT}_NEAR(v1, v2, abs_error):
        -: 1953://         Tests that v1 and v2 are within the given distance to each other.
        -: 1954://
        -: 1955:// Google Test uses ULP-based comparison to automatically pick a default
        -: 1956:// error bound that is appropriate for the operands.  See the
        -: 1957:// FloatingPoint template class in gtest-internal.h if you are
        -: 1958:// interested in the implementation details.
        -: 1959:
        -: 1960:#define EXPECT_FLOAT_EQ(expected, actual)\
        -: 1961:  EXPECT_PRED_FORMAT2(::testing::internal::CmpHelperFloatingPointEQ<float>, \
        -: 1962:                      expected, actual)
        -: 1963:
        -: 1964:#define EXPECT_DOUBLE_EQ(expected, actual)\
        -: 1965:  EXPECT_PRED_FORMAT2(::testing::internal::CmpHelperFloatingPointEQ<double>, \
        -: 1966:                      expected, actual)
        -: 1967:
        -: 1968:#define ASSERT_FLOAT_EQ(expected, actual)\
        -: 1969:  ASSERT_PRED_FORMAT2(::testing::internal::CmpHelperFloatingPointEQ<float>, \
        -: 1970:                      expected, actual)
        -: 1971:
        -: 1972:#define ASSERT_DOUBLE_EQ(expected, actual)\
        -: 1973:  ASSERT_PRED_FORMAT2(::testing::internal::CmpHelperFloatingPointEQ<double>, \
        -: 1974:                      expected, actual)
        -: 1975:
        -: 1976:#define EXPECT_NEAR(val1, val2, abs_error)\
        -: 1977:  EXPECT_PRED_FORMAT3(::testing::internal::DoubleNearPredFormat, \
        -: 1978:                      val1, val2, abs_error)
        -: 1979:
        -: 1980:#define ASSERT_NEAR(val1, val2, abs_error)\
        -: 1981:  ASSERT_PRED_FORMAT3(::testing::internal::DoubleNearPredFormat, \
        -: 1982:                      val1, val2, abs_error)
        -: 1983:
        -: 1984:// These predicate format functions work on floating-point values, and
        -: 1985:// can be used in {ASSERT|EXPECT}_PRED_FORMAT2*(), e.g.
        -: 1986://
        -: 1987://   EXPECT_PRED_FORMAT2(testing::DoubleLE, Foo(), 5.0);
        -: 1988:
        -: 1989:// Asserts that val1 is less than, or almost equal to, val2.  Fails
        -: 1990:// otherwise.  In particular, it fails if either val1 or val2 is NaN.
        -: 1991:GTEST_API_ AssertionResult FloatLE(const char* expr1, const char* expr2,
        -: 1992:                                   float val1, float val2);
        -: 1993:GTEST_API_ AssertionResult DoubleLE(const char* expr1, const char* expr2,
        -: 1994:                                    double val1, double val2);
        -: 1995:
        -: 1996:
        -: 1997:#if GTEST_OS_WINDOWS
        -: 1998:
        -: 1999:// Macros that test for HRESULT failure and success, these are only useful
        -: 2000:// on Windows, and rely on Windows SDK macros and APIs to compile.
        -: 2001://
        -: 2002://    * {ASSERT|EXPECT}_HRESULT_{SUCCEEDED|FAILED}(expr)
        -: 2003://
        -: 2004:// When expr unexpectedly fails or succeeds, Google Test prints the
        -: 2005:// expected result and the actual result with both a human-readable
        -: 2006:// string representation of the error, if available, as well as the
        -: 2007:// hex result code.
        -: 2008:# define EXPECT_HRESULT_SUCCEEDED(expr) \
        -: 2009:    EXPECT_PRED_FORMAT1(::testing::internal::IsHRESULTSuccess, (expr))
        -: 2010:
        -: 2011:# define ASSERT_HRESULT_SUCCEEDED(expr) \
        -: 2012:    ASSERT_PRED_FORMAT1(::testing::internal::IsHRESULTSuccess, (expr))
        -: 2013:
        -: 2014:# define EXPECT_HRESULT_FAILED(expr) \
        -: 2015:    EXPECT_PRED_FORMAT1(::testing::internal::IsHRESULTFailure, (expr))
        -: 2016:
        -: 2017:# define ASSERT_HRESULT_FAILED(expr) \
        -: 2018:    ASSERT_PRED_FORMAT1(::testing::internal::IsHRESULTFailure, (expr))
        -: 2019:
        -: 2020:#endif  // GTEST_OS_WINDOWS
        -: 2021:
        -: 2022:// Macros that execute statement and check that it doesn't generate new fatal
        -: 2023:// failures in the current thread.
        -: 2024://
        -: 2025://   * {ASSERT|EXPECT}_NO_FATAL_FAILURE(statement);
        -: 2026://
        -: 2027:// Examples:
        -: 2028://
        -: 2029://   EXPECT_NO_FATAL_FAILURE(Process());
        -: 2030://   ASSERT_NO_FATAL_FAILURE(Process()) << "Process() failed";
        -: 2031://
        -: 2032:#define ASSERT_NO_FATAL_FAILURE(statement) \
        -: 2033:    GTEST_TEST_NO_FATAL_FAILURE_(statement, GTEST_FATAL_FAILURE_)
        -: 2034:#define EXPECT_NO_FATAL_FAILURE(statement) \
        -: 2035:    GTEST_TEST_NO_FATAL_FAILURE_(statement, GTEST_NONFATAL_FAILURE_)
        -: 2036:
        -: 2037:// Causes a trace (including the source file path, the current line
        -: 2038:// number, and the given message) to be included in every test failure
        -: 2039:// message generated by code in the current scope.  The effect is
        -: 2040:// undone when the control leaves the current scope.
        -: 2041://
        -: 2042:// The message argument can be anything streamable to std::ostream.
        -: 2043://
        -: 2044:// In the implementation, we include the current line number as part
        -: 2045:// of the dummy variable name, thus allowing multiple SCOPED_TRACE()s
        -: 2046:// to appear in the same block - as long as they are on different
        -: 2047:// lines.
        -: 2048:#define SCOPED_TRACE(message) \
        -: 2049:  ::testing::internal::ScopedTrace GTEST_CONCAT_TOKEN_(gtest_trace_, __LINE__)(\
        -: 2050:    __FILE__, __LINE__, ::testing::Message() << (message))
        -: 2051:
        -: 2052:// Compile-time assertion for type equality.
        -: 2053:// StaticAssertTypeEq<type1, type2>() compiles iff type1 and type2 are
        -: 2054:// the same type.  The value it returns is not interesting.
        -: 2055://
        -: 2056:// Instead of making StaticAssertTypeEq a class template, we make it a
        -: 2057:// function template that invokes a helper class template.  This
        -: 2058:// prevents a user from misusing StaticAssertTypeEq<T1, T2> by
        -: 2059:// defining objects of that type.
        -: 2060://
        -: 2061:// CAVEAT:
        -: 2062://
        -: 2063:// When used inside a method of a class template,
        -: 2064:// StaticAssertTypeEq<T1, T2>() is effective ONLY IF the method is
        -: 2065:// instantiated.  For example, given:
        -: 2066://
        -: 2067://   template <typename T> class Foo {
        -: 2068://    public:
        -: 2069://     void Bar() { testing::StaticAssertTypeEq<int, T>(); }
        -: 2070://   };
        -: 2071://
        -: 2072:// the code:
        -: 2073://
        -: 2074://   void Test1() { Foo<bool> foo; }
        -: 2075://
        -: 2076:// will NOT generate a compiler error, as Foo<bool>::Bar() is never
        -: 2077:// actually instantiated.  Instead, you need:
        -: 2078://
        -: 2079://   void Test2() { Foo<bool> foo; foo.Bar(); }
        -: 2080://
        -: 2081:// to cause a compiler error.
        -: 2082:template <typename T1, typename T2>
        -: 2083:bool StaticAssertTypeEq() {
        -: 2084:  (void)internal::StaticAssertTypeEqHelper<T1, T2>();
        -: 2085:  return true;
        -: 2086:}
        -: 2087:
        -: 2088:// Defines a test.
        -: 2089://
        -: 2090:// The first parameter is the name of the test case, and the second
        -: 2091:// parameter is the name of the test within the test case.
        -: 2092://
        -: 2093:// The convention is to end the test case name with "Test".  For
        -: 2094:// example, a test case for the Foo class can be named FooTest.
        -: 2095://
        -: 2096:// The user should put his test code between braces after using this
        -: 2097:// macro.  Example:
        -: 2098://
        -: 2099://   TEST(FooTest, InitializesCorrectly) {
        -: 2100://     Foo foo;
        -: 2101://     EXPECT_TRUE(foo.StatusIsOK());
        -: 2102://   }
        -: 2103:
        -: 2104:// Note that we call GetTestTypeId() instead of GetTypeId<
        -: 2105:// ::testing::Test>() here to get the type ID of testing::Test.  This
        -: 2106:// is to work around a suspected linker bug when using Google Test as
        -: 2107:// a framework on Mac OS X.  The bug causes GetTypeId<
        -: 2108:// ::testing::Test>() to return different values depending on whether
        -: 2109:// the call is from the Google Test framework itself or from user test
        -: 2110:// code.  GetTestTypeId() is guaranteed to always return the same
        -: 2111:// value, as it always calls GetTypeId<>() from the Google Test
        -: 2112:// framework.
        -: 2113:#define GTEST_TEST(test_case_name, test_name)\
        -: 2114:  GTEST_TEST_(test_case_name, test_name, \
        -: 2115:              ::testing::Test, ::testing::internal::GetTestTypeId())
        -: 2116:
        -: 2117:// Define this macro to 1 to omit the definition of TEST(), which
        -: 2118:// is a generic name and clashes with some other libraries.
        -: 2119:#if !GTEST_DONT_DEFINE_TEST
        -: 2120:# define TEST(test_case_name, test_name) GTEST_TEST(test_case_name, test_name)
        -: 2121:#endif
        -: 2122:
        -: 2123:// Defines a test that uses a test fixture.
        -: 2124://
        -: 2125:// The first parameter is the name of the test fixture class, which
        -: 2126:// also doubles as the test case name.  The second parameter is the
        -: 2127:// name of the test within the test case.
        -: 2128://
        -: 2129:// A test fixture class must be declared earlier.  The user should put
        -: 2130:// his test code between braces after using this macro.  Example:
        -: 2131://
        -: 2132://   class FooTest : public testing::Test {
        -: 2133://    protected:
        -: 2134://     virtual void SetUp() { b_.AddElement(3); }
        -: 2135://
        -: 2136://     Foo a_;
        -: 2137://     Foo b_;
        -: 2138://   };
        -: 2139://
        -: 2140://   TEST_F(FooTest, InitializesCorrectly) {
        -: 2141://     EXPECT_TRUE(a_.StatusIsOK());
        -: 2142://   }
        -: 2143://
        -: 2144://   TEST_F(FooTest, ReturnsElementCountCorrectly) {
        -: 2145://     EXPECT_EQ(0, a_.size());
        -: 2146://     EXPECT_EQ(1, b_.size());
        -: 2147://   }
        -: 2148:
        -: 2149:#define TEST_F(test_fixture, test_name)\
        -: 2150:  GTEST_TEST_(test_fixture, test_name, test_fixture, \
        -: 2151:              ::testing::internal::GetTypeId<test_fixture>())
        -: 2152:
        -: 2153:// Use this macro in main() to run all tests.  It returns 0 if all
        -: 2154:// tests are successful, or 1 otherwise.
        -: 2155://
        -: 2156:// RUN_ALL_TESTS() should be invoked after the command line has been
        -: 2157:// parsed by InitGoogleTest().
        -: 2158:
        -: 2159:#define RUN_ALL_TESTS()\
        -: 2160:  (::testing::UnitTest::GetInstance()->Run())
        -: 2161:
        -: 2162:}  // namespace testing
        -: 2163:
        -: 2164:#endif  // GTEST_INCLUDE_GTEST_GTEST_H_
